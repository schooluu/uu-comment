import{r as e,O as a,e as l,w as s,x as t,c,f as u,h as n,i as d,j as o,k as i,t as r,F as p,A as v,a1 as _,s as f,H as m,J as h,G as k,v as g,L as y,y as b,I as C,z as V}from"./index-D2hZ7yQh.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=x({__name:"feedback",setup(x){const j=[{id:1,name:"课程相关"},{id:2,name:"老师相关"},{id:3,name:"系统问题"},{id:4,name:"其他建议"}],w=e(0),F=e(""),I=e([]),T=e(""),U=a((()=>0!==w.value&&F.value.trim().length>0)),z=()=>{_({count:4-I.value.length,success:e=>{I.value=[...I.value,...e.tempFilePaths]}})},A=()=>{U.value?(m({title:"提交中"}),setTimeout((()=>{h(),f({title:"提交成功",icon:"success"}),w.value=0,F.value="",I.value=[],T.value="",setTimeout((()=>{k()}),1500)}),1500)):f({title:"请选择反馈类型并填写反馈内容",icon:"none"})};return(e,a)=>{const _=g,f=t,m=y,h=b,k=C,x=V;return c(),l(f,{class:"container"},{default:s((()=>[u(f,{class:"header"},{default:s((()=>[u(_,{class:"title"},{default:s((()=>[n("意见反馈")])),_:1})])),_:1}),u(f,{class:"type-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("反馈类型")])),_:1}),u(f,{class:"type-grid"},{default:s((()=>[(c(),d(p,null,o(j,(e=>u(f,{class:i(["type-item",{active:w.value===e.id}]),key:e.id,onClick:a=>{return l=e.id,void(w.value=l);var l}},{default:s((()=>[n(r(e.name),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),u(f,{class:"content-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("反馈内容")])),_:1}),u(m,{class:"content-input",modelValue:F.value,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e),placeholder:"请详细描述您的问题或建议，以便我们更好地为您服务","placeholder-class":"placeholder",maxlength:"500"},null,8,["modelValue"]),u(_,{class:"word-count"},{default:s((()=>[n(r(F.value.length)+"/500",1)])),_:1})])),_:1}),u(f,{class:"upload-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("上传图片（选填，最多4张）")])),_:1}),u(f,{class:"upload-grid"},{default:s((()=>[(c(!0),d(p,null,o(I.value,((e,a)=>(c(),l(f,{class:"upload-item",key:a},{default:s((()=>[u(h,{class:"preview",src:e,mode:"aspectFill"},null,8,["src"]),u(_,{class:"delete-btn",onClick:e=>(e=>{I.value.splice(e,1)})(a)},{default:s((()=>[n("×")])),_:2},1032,["onClick"])])),_:2},1024)))),128)),I.value.length<4?(c(),l(f,{key:0,class:"upload-btn",onClick:z},{default:s((()=>[u(_,{class:"icon"},{default:s((()=>[n("+")])),_:1})])),_:1})):v("",!0)])),_:1})])),_:1}),u(f,{class:"contact-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("联系方式（选填）")])),_:1}),u(k,{class:"contact-input",modelValue:T.value,"onUpdate:modelValue":a[1]||(a[1]=e=>T.value=e),placeholder:"请留下您的手机号或邮箱，方便我们及时回复","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),u(x,{class:i(["submit-btn",{disabled:!U.value}]),onClick:A},{default:s((()=>[n(" 提交反馈 ")])),_:1},8,["class"])])),_:1})}}},[["__scopeId","data-v-fe7a562e"]]);export{j as default};
