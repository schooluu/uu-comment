import{r as e,O as s,e as a,w as l,x as t,c,f as o,h as d,t as u,i,j as r,A as n,F as f,ai as p,m,aq as _,q as g,v,y as h,z as b}from"./index-7gMq5wzL.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q=k({__name:"orderDetail",setup(k){const q=e({id:"123",orderNo:"DD20240101123456",status:"waiting",pickupCode:"A123",pickupTime:"2024-01-01 12:30",createTime:"2024-01-01 12:00",customerName:"张三",customerPhone:"138****8000",remark:"不要太甜",totalAmount:52,store:{id:1,logo:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",name:"奶茶店大学城店",address:"大学城环街1号楼108号",phone:"020-88888888"},goods:[{id:1,name:"珍珠奶茶",price:12,count:2,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",description:"珍珠 + 奶茶"},{id:2,name:"芋圆奶茶",price:15,count:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",description:"芋圆 + 奶茶"},{id:3,name:"椰果奶茶",price:13,count:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",description:"椰果 + 奶茶"}],qrcode:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"}),x=s((()=>({waiting:{text:"等待取餐",desc:"请按时到店取餐，超时订单可能会被取消"},finished:{text:"已完成",desc:"订单已完成，欢迎再次光临"},cancelled:{text:"已取消",desc:"订单已取消"}}[q.value.status]))),j=s((()=>q.value.goods.reduce(((e,s)=>e+s.count),0))),C=()=>{p({phoneNumber:q.value.store.phone})},w=()=>{m({url:"/pages/shop/home/index"})},y=()=>{_({url:`/pages/shop/store/goodsList?id=${q.value.store.id}`})},N=()=>{g({urls:[q.value.qrcode],current:0})};return(e,s)=>{const p=v,m=t,_=h,g=b;return c(),a(m,{class:"order-detail"},{default:l((()=>[o(m,{class:"status-card"},{default:l((()=>[o(m,{class:"status-header"},{default:l((()=>[o(p,{class:"status-text"},{default:l((()=>[d(u(x.value.text),1)])),_:1}),o(p,{class:"status-desc"},{default:l((()=>[d(u(x.value.desc),1)])),_:1})])),_:1}),o(m,{class:"pickup-info"},{default:l((()=>[o(m,{class:"qrcode-wrap",onClick:N},{default:l((()=>[o(_,{class:"qrcode",src:q.value.qrcode,mode:"aspectFit"},null,8,["src"]),o(p,{class:"qrcode-tip"},{default:l((()=>[d("点击查看取餐码")])),_:1})])),_:1}),o(m,{class:"pickup-detail"},{default:l((()=>[o(p,{class:"pickup-code"},{default:l((()=>[d("取餐码："+u(q.value.pickupCode),1)])),_:1}),o(p,{class:"pickup-time"},{default:l((()=>[d("取餐时间："+u(q.value.pickupTime),1)])),_:1})])),_:1})])),_:1})])),_:1}),o(m,{class:"store-card"},{default:l((()=>[o(m,{class:"store-info"},{default:l((()=>[o(_,{class:"store-logo",src:q.value.store.logo,mode:"aspectFill"},null,8,["src"]),o(m,{class:"store-detail"},{default:l((()=>[o(p,{class:"store-name"},{default:l((()=>[d(u(q.value.store.name),1)])),_:1}),o(p,{class:"store-address"},{default:l((()=>[d(u(q.value.store.address),1)])),_:1})])),_:1})])),_:1}),o(g,{class:"contact-btn",onClick:C,"hover-class":"contact-btn-hover"},{default:l((()=>[o(p,{class:"icon iconfont icon-phone"}),o(p,{class:"btn-text"},{default:l((()=>[d("联系门店")])),_:1})])),_:1})])),_:1}),o(m,{class:"order-card"},{default:l((()=>[o(m,{class:"card-title"},{default:l((()=>[d("订单详情")])),_:1}),o(m,{class:"goods-list"},{default:l((()=>[(c(!0),i(f,null,r(q.value.goods,(e=>(c(),a(m,{class:"goods-item",key:e.id},{default:l((()=>[o(_,{src:e.image,class:"goods-image",mode:"aspectFill"},null,8,["src"]),o(m,{class:"goods-info"},{default:l((()=>[o(p,{class:"goods-name"},{default:l((()=>[d(u(e.name),1)])),_:2},1024),e.description?(c(),a(p,{key:0,class:"goods-desc"},{default:l((()=>[d(u(e.description),1)])),_:2},1024)):n("",!0),o(m,{class:"price-wrap"},{default:l((()=>[o(p,{class:"price"},{default:l((()=>[d("¥"+u(e.price),1)])),_:2},1024),o(p,{class:"count"},{default:l((()=>[d("x"+u(e.count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(m,{class:"order-total"},{default:l((()=>[o(p,null,{default:l((()=>[d("共"+u(j.value)+"件商品，实付",1)])),_:1}),o(p,{class:"total-price"},{default:l((()=>[d("¥"+u(q.value.totalAmount),1)])),_:1})])),_:1})])),_:1}),o(m,{class:"info-card"},{default:l((()=>[o(m,{class:"info-item"},{default:l((()=>[o(p,{class:"label"},{default:l((()=>[d("订单编号")])),_:1}),o(p,{class:"value"},{default:l((()=>[d(u(q.value.orderNo),1)])),_:1})])),_:1}),o(m,{class:"info-item"},{default:l((()=>[o(p,{class:"label"},{default:l((()=>[d("下单时间")])),_:1}),o(p,{class:"value"},{default:l((()=>[d(u(q.value.createTime),1)])),_:1})])),_:1}),o(m,{class:"info-item"},{default:l((()=>[o(p,{class:"label"},{default:l((()=>[d("取餐人")])),_:1}),o(p,{class:"value"},{default:l((()=>[d(u(q.value.customerName),1)])),_:1})])),_:1}),o(m,{class:"info-item"},{default:l((()=>[o(p,{class:"label"},{default:l((()=>[d("手机号")])),_:1}),o(p,{class:"value"},{default:l((()=>[d(u(q.value.customerPhone),1)])),_:1})])),_:1}),q.value.remark?(c(),a(m,{key:0,class:"info-item"},{default:l((()=>[o(p,{class:"label"},{default:l((()=>[d("备注")])),_:1}),o(p,{class:"value"},{default:l((()=>[d(u(q.value.remark),1)])),_:1})])),_:1})):n("",!0)])),_:1}),o(m,{class:"bottom-bar"},{default:l((()=>[o(g,{class:"action-btn outline",onClick:w},{default:l((()=>[d("返回首页")])),_:1}),o(g,{class:"action-btn primary",onClick:y},{default:l((()=>[d("继续点餐")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-cd3b6912"]]);export{q as default};
