import{r as e,o as t,e as a,w as l,k as s,l as o,s as c,a4 as n,x as u,c as i,f as d,u as r,n as m,h as f,t as h,i as p,j as v,F as _,A as g,B as k,m as y,q as w,D as b,y as x,v as M,P as C,Q as j,U as T,I as q,z as I,S as F}from"./index-n3EudtRm.js";import{a as L,b as S,c as E,o as A,d as U}from"./uni-app.es.CXNBM5FZ.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";const P=V({__name:"index",setup(V){const P=["æ˜Ÿæ²³æ—…äºº","å¤æ—¥å¾®é£","è“è“æ±½æ°´","æ©™å­æ±½çƒ","å¤œç©ºå®ˆæœ›","æ™¨æ›¦å¾®å…‰","äº‘ç«¯æ¼«æ­¥","æœˆä¸‹ç‹¬è¡Œ","ç™½èŒ¶æ¸…æ¬¢","é’æŸ æ—¶å…‰","æ¸©æŸ”æ˜Ÿçƒ","æ™´ç©ºä¸‡é‡Œ","é£ä¸­è¯—äºº","æµ·ç›å†°æ²™","å±±é‡å¬é£","æ©˜å­æµ·å²¸","é“¶æ²³ä¿¡ä½¿","å¾®å…‰æ‹¾æ¢¦","æ™šé£é‚®å·®","é›¾é‡Œçœ‹èŠ±","æ£®æ—ä¹‹å¿ƒ","é›¨ååˆæ™´","äº‘æœµæ”¶é›†è€…","å¤å¤œè¤ç«"];function H(){return P[Math.floor(Math.random()*P.length)]}const D=["https://qcloud.dpfile.com/pc/pawK4KeJSDNVINhfwh9CoLJPFluB-tnHSd3heJ_jybtNIYslSlGEPeQVyA4hZRCP.jpg","https://images.unsplash.com/photo-1502685104226-ee32379fefbe?auto=format&fit=crop&w=256&q=60","https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=256&q=60","https://images.unsplash.com/photo-1527980965255-d3b416303d12?auto=format&fit=crop&w=256&q=60","https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?auto=format&fit=crop&w=256&q=60","https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=256&q=60","https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=256&q=60"],Q=D[Math.floor(Math.random()*D.length)],$=["https://images.unsplash.com/photo-1519345182560-3f2917c472ef?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1516822003754-cca485356ecb?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1544006659-f0b21884ce1d?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1542202229-7d93c33f5d07?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=1400&q=60","https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=1400&q=60"],J=$[Math.floor(Math.random()*$.length)],N=Q,z=["ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡ï¼","åŒ¿ååˆ†äº«ï¼Œè½»æ¾è‡ªåœ¨~","æ¯ä¸€å¤©éƒ½å€¼å¾—è®°å½•ã€‚","ç”¨å¿ƒæ„Ÿå—ç”Ÿæ´»çš„ç¾å¥½ã€‚","ç§‘æŠ€è®©åŒ¿åæ›´æ¸©æš–ã€‚","ä¸–ç•Œå¾ˆå¤§ï¼Œå¿ƒæƒ…å¾ˆç¾ã€‚","åšè‡ªå·±çš„å°å¤ªé˜³ â˜€ï¸","åŒ¿åä¸å­¤å•ï¼Œæ¸©æš–åœ¨èº«è¾¹ã€‚","è®°å½•æ­¤åˆ»ï¼Œé‡è§æ›´å¥½çš„è‡ªå·±ã€‚","ä¿æŒå¥½å¥‡ï¼Œä¿æŒçƒ­çˆ±ï¼"],B=z[Math.floor(Math.random()*z.length)],K=["åŒ¿åæ ‘æ´ Â· ç¾å¥½ç”Ÿæ´»","ç”¨æ¸©æŸ”æ²»æ„ˆä¸–ç•Œ","æ¯ä¸€å¤©éƒ½å€¼å¾—è®°å½•","è®©å¿ƒæƒ…è‡ªç”±æµåŠ¨","ç§‘æŠ€è®©æ¸©æš–å‘ç”Ÿ","åœ¨è¿™é‡Œé‡è§ç¾å¥½","åˆ†äº«ä½ çš„æ•…äº‹","åšè‡ªå·±çš„å°å¤ªé˜³","ä¸–ç•Œå¾ˆå¤§ï¼Œæ¸©æš–å¾ˆè¿‘","ç”¨åŒ¿åå®ˆæŠ¤çœŸå¿ƒ"];e(K[0]);const Y=e(""),G=e(!0);let R=null,Z=0,O=0;function W(){clearTimeout(R);const e=K[Z];Y.value="",O=0,function t(){O<=e.length?(Y.value=e.slice(0,O),O++,R=setTimeout(t,60)):setTimeout((()=>{Z=(Z+1)%K.length,W()}),1800)}()}t((()=>{W(),setInterval((()=>{G.value=!G.value}),500)}));const X=e(!1),ee=e(!1),te=e(""),ae=e(-1),le=e({}),se=e(1),oe=e(10),ce=e(!1),ne=e(!0),ue=e([]),ie=async(e=!1)=>{if(!ce.value&&(ne.value||e))try{ce.value=!0;const a=new Promise((e=>setTimeout(e,800))),[{result:l}]=await Promise.all([o.callFunction({name:"wx_get_list",data:{page:e?1:se.value,pageSize:oe.value}}),a]);if(0!==l.code)throw new Error(l.msg);{const a=l.data.list.map((e=>({...e,username:H(),avatar:D[Math.floor(Math.random()*D.length)],comments:(e.comments||[]).map((e=>({...e,username:H(),avatar:D[Math.floor(Math.random()*D.length)]}))),likes:(e.likes||[]).map((()=>H()))})));if(e)ue.value=a,se.value=2;else{const e=new Set((ue.value||[]).map((e=>e._id))),t=a.filter((t=>!e.has(t._id)));ue.value=[...ue.value||[],...t],se.value++}ne.value=l.data.hasMore;try{Je()}catch(t){}}}catch(a){c({title:a.message||"è·å–æœ‹å‹åœˆå¤±è´¥",icon:"none"})}finally{ce.value=!1,e&&n()}};L((()=>{ie(!0),Te(),je(),setTimeout((()=>{ie(!0)}),33e3),Ge()})),S((()=>{Te(),ze()})),E((()=>{Te(),ze()})),A((()=>{!ce.value&&ne.value&&ie()}));const de=async()=>{if(te.value.trim()){X.value=!1,ee.value=!1,c({title:"è¯„è®ºæˆåŠŸ",icon:"none"});try{const{result:e}=await o.callFunction({name:"wx_add_comment",data:{momentId:ue.value[ae.value]._id,content:te.value}});if(0!==e.code)throw new Error(e.msg);{const e=ue.value[ae.value];e.comments||(e.comments=[]),e.comments.push({username:H(),content:te.value,create_time:Date.now()}),te.value=""}}catch(e){c({title:e.message||"è¯„è®ºå¤±è´¥",icon:"none"})}}},re=async()=>{y({url:"/pages/wx/home/add"})},me=()=>{X.value=!1,ee.value=!1,te.value="",ae.value=-1},fe=()=>{ee.value=!ee.value},he=()=>{c({title:"è§†é¢‘åŠ è½½å¤±è´¥",icon:"none"})},pe=()=>{b({itemList:["åˆ‡æ¢ä¸»é¢˜","å†…å®¹åå¥½","å¸®åŠ©ä¸åé¦ˆ"],success:e=>{const t=e.tapIndex;0===t&&c({title:"å·²åˆ‡æ¢ä¸»é¢˜",icon:"none"}),1===t&&c({title:"åå¥½è®¾ç½®æš‚æœªå¼€æ”¾",icon:"none"}),2===t&&c({title:"æ„Ÿè°¢ä½ çš„åé¦ˆ",icon:"none"})}})},ve=e(0);U((e=>{const t=e.scrollTop||0;ve.value=Math.min(30,.2*t)}));const _e=e("theme-day"),ge=()=>{const e=(new Date).getHours();_e.value=e>=6&&e<11?"theme-morning":e>=11&&e<18?"theme-day":"theme-night"};t((()=>{ge(),setInterval(ge,6e5)}));const ke=e(!1),ye=e([]);let we=0;const be=e=>{const t=ye.value.findIndex((t=>t.id===e));-1!==t&&ye.value.splice(t,1)},xe=(e=4,t=1e3)=>{ke.value=!0;const a=Math.max(1,e),l=Math.floor(t/a);for(let s=0;s<a;s++){setTimeout((()=>{const e=we++;ye.value.push({id:e,x:Math.floor(10+80*Math.random()),y:Math.floor(18+54*Math.random()),theme:["t-blue","t-violet","t-gold","t-mint","t-pink"][Math.floor(5*Math.random())]}),setTimeout((()=>{be(e),0===ye.value.length&&(ke.value=!1)}),2200)}),s*l)}},Me=async e=>{try{const t=ue.value[e];le.value[e]=!0;const{result:a}=await o.callFunction({name:"wx_add_toggle_like",data:{momentId:t._id}});if(0!==a.code)throw new Error(a.msg);t.isLiked=a.data.isLiked,t.isLiked?(t.likes||(t.likes=[]),t.likes.push(H())):t.likes.pop(),setTimeout((()=>{le.value[e]=!1}),1e3)}catch(t){c({title:t.message||"æ“ä½œå¤±è´¥",icon:"none"})}};let Ce=null;const je=()=>{Ce||(ke.value=!0,Ce=setInterval((()=>{const e=3+Math.floor(3*Math.random()),t=1e3+Math.floor(600*Math.random());xe(e,t)}),1500+Math.floor(900*Math.random())))},Te=()=>{clearInterval(Ce),Ce=null,ke.value=!1,ye.value=[]},qe=e=>e||0===e?e>=1e4?(e/1e4).toFixed(1).replace(/\.0$/,"")+"w":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":String(e):"0",Ie=e=>{const t=e.likes&&e.likes.length||0,a=e.comments&&e.comments.length||0,l="video"===e.mediaType;return Math.floor(3*t+5*a+(l?18:8))};e("recommend");const Fe=e({}),Le=e([{tag:"# ç²¾é€‰",title:"ä»Šæ—¥çƒ­èŠï¼šåŒ¿åä¹Ÿè¦æœ‰æ€åº¦",sub:"æ¥ä¸€æ¡èµ°å¿ƒçš„åˆ†äº«å§"},{tag:"# æ–°é²œ",title:"ä½ çš„å°ç¡®å¹¸ï¼Œå€¼å¾—è¢«çœ‹åˆ°",sub:"è®°å½•å½“ä¸‹ï¼Œæ¸©æš–ä¸€æ•´å¤©"},{tag:"# é™„è¿‘",title:"å‘ç°èº«è¾¹çš„ç¾å¥½ç¬é—´",sub:"åŒåŸçƒ­ç‚¹ï¼Œé©¬ä¸ŠåŠ å…¥"}]),Se=e([{text:"# ä»Šå¤©ä½ åŒ¿åè¡¨ç™½äº†å—",views:"12.3w",posts:"2.1k",emoji:"ğŸ’Œ",badge:"çƒ­è®®",badgeType:"badge-hot",cta:"å‚ä¸"},{text:"# åŸå¸‚æ ‘æ´ï¼šè¯´è¯´ä½ çš„å°çƒ¦æ¼",views:"8.7w",posts:"1.2k",emoji:"ğŸŒ†",badge:"åŒåŸ",badgeType:"badge-near",cta:"å»çœ‹çœ‹",mood:"æ°›å›´å¾ˆæš–"},{text:"# ä¸‰ä»¶è®©ä½ å¿«ä¹çš„å°äº‹",views:"6.5w",posts:"980",emoji:"âœ¨",badge:"ç²¾é€‰",badgeType:"badge-new",cta:"æˆ‘ä¹Ÿåˆ†äº«"}]),Ee=e=>{c({title:e.text,icon:"none"})},Ae=e(!1);let Ue=null;const Ve=["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3","https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3","https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"];let Pe=Math.floor(Math.random()*Ve.length);const He=()=>Ve[Pe%Ve.length],De=()=>"undefined"==typeof Audio?null:(Ue||(Ue=new Audio(He()),Ue.loop=!0,Ue.preload="auto",Ue.volume=.6,Ue.onerror=()=>{try{const e=(Pe=(Pe+1)%Ve.length,He());Ue.src=e,Ae.value&&Ue.play().catch((()=>{Ae.value=!1,c({title:"èƒŒæ™¯éŸ³ä¹éœ€æ‰‹åŠ¨æ’­æ”¾",icon:"none"})}))}catch(e){}}),Ue),Qe=["today vibes","mood on","little joy","city walk","coffee oâ€™clock","soft light","daily look","slow life"],$e=e([]),Je=()=>{const e=(()=>{const e=[];return(ue.value||[]).forEach((t=>{"image"===t.mediaType&&Array.isArray(t.mediaUrls)&&t.mediaUrls.forEach((t=>{t&&e.push({url:t})})),Array.isArray(t.mediaList)&&t.mediaList.filter((e=>e&&"image"===e.type&&e.url)).forEach((t=>e.push({url:t.url})))})),e})();if(!e.length)return void($e.value=[]);const t=e.sort((()=>Math.random()-.5)).slice(0,8);$e.value=t.map((e=>({...e,likes:Math.floor(100+9e3*Math.random()),emoji:["ğŸ’–","ğŸŒ¸","ğŸ“¸","ğŸ˜Š","â˜•","ğŸ‘—","ğŸ§‹","âœ¨"][Math.floor(8*Math.random())],caption:Qe[Math.floor(Math.random()*Qe.length)]})))},Ne=()=>{Je()};L((()=>{setTimeout((()=>Je()),400)}));const ze=()=>{if(Ue)try{Ue.pause()}catch(e){}Ae.value=!1},Be=()=>{const e=De();e&&(Ae.value?ze():e.play().then((()=>{Ae.value=!0})).catch((()=>{c({title:"éœ€æ‰‹åŠ¨ç‚¹å‡»æ’­æ”¾",icon:"none"})})))};let Ke=!1;const Ye=()=>{Ge()},Ge=()=>{const e=De();e&&(e.muted=!0,e.volume=0,e.play().then((()=>{Ae.value=!0,e.muted=!1,((e=.6,t=1200)=>{const a=Ue;if(!a)return;const l=a.volume||0,s=Math.max(1,Math.floor(t/80));let o=0;const c=setInterval((()=>{o++,a.volume=l+o/s*(e-l),o>=s&&clearInterval(c)}),80)})(.6,1200),"undefined"!=typeof document&&(["touchstart","click","wheel","keydown"].forEach((e=>{try{document.removeEventListener(e,Ye)}catch(t){}})),Ke=!1)})).catch((()=>{"undefined"==typeof document||Ke||(["touchstart","click","wheel","keydown"].forEach((e=>{try{document.addEventListener(e,Ye,{once:!0,passive:!0})}catch(t){}})),Ke=!0)})))},Re=["ğŸ˜Š","ğŸ˜‚","ğŸ¤£","â¤ï¸","ğŸ˜","ğŸ¤”","ğŸ˜’","ğŸ‘","ğŸ‘","ğŸ˜³","ğŸ¥º","ğŸ˜­","ğŸ˜˜","ğŸ¤—","ğŸ™„","ğŸ˜´","ğŸ¤®","ğŸ¤§","ğŸ˜·","ğŸ¤’","ğŸ¤•","ğŸ˜ˆ","ğŸ‘»","ğŸ‘½","ğŸ¤–","ğŸ’©","ğŸ˜º","ğŸ’ª","ğŸ‘Š","âœŒï¸","ğŸ¤","ğŸ™","ğŸ‘","ğŸ™Œ","ğŸ‘","ğŸ¤²"];return(e,t)=>{const o=x,n=u,y=M,L=C,S=j,E=T,A=q,U=I,V=F;return i(),a(n,{class:s(["moments-container",_e.value])},{default:l((()=>[d(n,{class:"header"},{default:l((()=>[d(o,{class:"bg-image",src:r(J),mode:"aspectFill",style:m({transform:`translateY(${ve.value}px) scale(1.06)`})},null,8,["src","style"]),d(n,{class:"header-gradient"}),d(n,{class:"header-blur"}),d(n,{class:"header-glow"}),d(n,{class:"header-topbar"},{default:l((()=>[d(y,{class:"brand"},{default:l((()=>[f("åŒ¿ååœˆ")])),_:1}),d(n,{class:"top-actions"},{default:l((()=>[d(y,{class:"top-icon",onClick:pe},{default:l((()=>[f("â‹¯")])),_:1})])),_:1})])),_:1}),d(n,{class:"hero-card"},{default:l((()=>[d(o,{class:"hero-avatar",src:r(N),mode:"aspectFill"},null,8,["src"]),d(n,{class:"hero-text"},{default:l((()=>[d(y,{class:"hero-title"},{default:l((()=>[f(h(r(B)),1)])),_:1}),d(y,{class:"hero-sub"},{default:l((()=>[f("åŒ¿å Â· æ¸©æš– Â· çœŸå®")])),_:1}),d(n,{class:"hero-chips"},{default:l((()=>[d(y,{class:"chip active"},{default:l((()=>[f("æ¨è")])),_:1}),d(y,{class:"chip"},{default:l((()=>[f("å…³æ³¨")])),_:1}),d(y,{class:"chip"},{default:l((()=>[f("é™„è¿‘")])),_:1})])),_:1})])),_:1}),d(n,{class:"hero-cta",onClick:re},{default:l((()=>[d(y,{class:"cta-plus"},{default:l((()=>[f("+")])),_:1})])),_:1})])),_:1})])),_:1}),$e.value.length?(i(),a(n,{key:0,class:"photo-showcase"},{default:l((()=>[d(n,{class:"ps-header"},{default:l((()=>[d(y,{class:"ps-title"},{default:l((()=>[f("ç²¾é€‰ç…§ç‰‡")])),_:1}),d(y,{class:"ps-action",onClick:Ne},{default:l((()=>[f("æ¢ä¸€æ¢")])),_:1})])),_:1}),d(n,{class:"ps-row"},{default:l((()=>[(i(!0),p(_,null,v($e.value,((e,t)=>(i(),a(n,{class:"ps-item",key:t,onClick:e=>(e=>{const t=$e.value.map((e=>e.url));w({urls:t,current:t[e]})})(t)},{default:l((()=>[d(o,{class:"ps-img",src:e.url,mode:"aspectFill"},null,8,["src"]),d(n,{class:"ps-overlay"},{default:l((()=>[d(n,{class:"ps-cap"},{default:l((()=>[d(y,{class:"ps-emoji"},{default:l((()=>[f(h(e.emoji),1)])),_:2},1024),d(y,{class:"ps-text"},{default:l((()=>[f(h(e.caption),1)])),_:2},1024)])),_:2},1024),d(y,{class:"ps-like"},{default:l((()=>[f("â¤ "+h(qe(e.likes)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):g("",!0),d(n,{class:"banner-topics"},{default:l((()=>[d(S,{class:"banner-swiper",circular:"",autoplay:"",interval:"4000"},{default:l((()=>[(i(!0),p(_,null,v(Le.value,((e,t)=>(i(),a(L,{key:t},{default:l((()=>[d(n,{class:"topic-card",onClick:t=>(e=>{c({title:e.tag+" Â· "+e.title,icon:"none"})})(e)},{default:l((()=>[d(n,{class:"topic-tag"},{default:l((()=>[f(h(e.tag),1)])),_:2},1024),d(y,{class:"topic-title"},{default:l((()=>[f(h(e.title),1)])),_:2},1024),d(y,{class:"topic-sub"},{default:l((()=>[f(h(e.sub),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),d(n,{class:"hot-board"},{default:l((()=>[d(n,{class:"hot-title"},{default:l((()=>[f("ä»Šæ—¥çƒ­æ¦œ")])),_:1}),d(n,{class:"hot-list"},{default:l((()=>[(i(!0),p(_,null,v(Se.value,((e,t)=>(i(),a(n,{class:"hot-item",key:t,onClick:t=>Ee(e)},{default:l((()=>[d(y,{class:s(["hot-rank",{top:t<3}])},{default:l((()=>[f(h(t+1),1)])),_:2},1032,["class"]),d(n,{class:"hot-thumb"},{default:l((()=>[e.thumb?(i(),a(o,{key:0,class:"hot-thumb-img",src:e.thumb,mode:"aspectFill"},null,8,["src"])):(i(),a(y,{key:1,class:"hot-thumb-emoji"},{default:l((()=>[f(h(e.emoji),1)])),_:2},1024))])),_:2},1024),d(n,{class:"hot-content"},{default:l((()=>[d(n,{class:"hot-row"},{default:l((()=>[d(y,{class:"hot-text"},{default:l((()=>[f(h(e.text),1)])),_:2},1024),e.badge?(i(),a(y,{key:0,class:s(["hot-badge",e.badgeType||"badge-hot"])},{default:l((()=>[f(h(e.badge),1)])),_:2},1032,["class"])):g("",!0)])),_:2},1024),d(y,{class:"hot-meta"},{default:l((()=>[f(h(e.views)+" æ¬¡æµè§ˆ Â· "+h(e.posts)+" æ¡è®¨è®º Â· "+h(e.mood||"è®¨è®ºæ­£çƒ­"),1)])),_:2},1024)])),_:2},1024),d(n,{class:"hot-cta",onClick:k((t=>Ee(e)),["stop"])},{default:l((()=>[f(h(e.cta||"å»çœ‹çœ‹"),1)])),_:2},1032,["onClick"]),d(y,{class:"hot-arrow"},{default:l((()=>[f("â€º")])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),d(n,{class:"moments-list"},{default:l((()=>[(i(!0),p(_,null,v(ue.value,((e,t)=>(i(),a(n,{class:"moment-item",key:t},{default:l((()=>[d(o,{class:"user-avatar avatar-glow",src:e.avatar,mode:"aspectFill"},null,8,["src"]),d(n,{class:"content-area"},{default:l((()=>[d(n,{class:"meta-row"},{default:l((()=>[d(y,{class:"username"},{default:l((()=>[f(h(e.username),1)])),_:2},1024)])),_:2},1024),d(n,{class:"chip-row"},{default:l((()=>[d(y,{class:"chip"},{default:l((()=>[f("åŒ¿å")])),_:1}),e.mediaType?(i(),a(y,{key:0,class:"chip ghost"},{default:l((()=>[f("å›¾æ–‡")])),_:1})):g("",!0)])),_:2},1024),d(n,{class:s(["text-block",{clamped:!Fe.value[t]}])},{default:l((()=>[d(y,{class:"text-content"},{default:l((()=>[f(h(e.content),1)])),_:2},1024)])),_:2},1032,["class"]),e.content&&e.content.length>60?(i(),a(n,{key:0,class:"expand-btn",onClick:e=>(e=>{Fe.value[e]=!Fe.value[e]})(t)},{default:l((()=>[f(h(Fe.value[t]?"æ”¶èµ·":"å±•å¼€"),1)])),_:2},1032,["onClick"])):g("",!0),e.mediaType?(i(),a(n,{key:1,class:"media-content"},{default:l((()=>["video"===e.mediaType?(i(),a(E,{key:0,src:e.mediaUrl,poster:e.poster,class:"video-content video-radius",controls:"","show-center-play-btn":"","enable-play-gesture":"","show-fullscreen-btn":"","show-play-btn":"","object-fit":"contain",onError:he},null,8,["src","poster"])):"image"===e.mediaType?(i(),a(n,{key:1,class:s(["image-gallery",`columns-${e.mediaUrls.length}`])},{default:l((()=>[(i(!0),p(_,null,v(e.mediaUrls,((t,l)=>(i(),a(o,{key:l,src:t,mode:"aspectFill",class:"image-content image-radius",onClick:a=>{return l=e.mediaUrls,s=t,void(l&&l.length&&w({urls:l,current:s}));var l,s}},null,8,["src","onClick"])))),128))])),_:2},1032,["class"])):g("",!0),d(n,{class:"media-badges"},{default:l((()=>[d(n,{class:"badge ghost"},{default:l((()=>[d(y,{class:"b-ic"},{default:l((()=>[f("ğŸ”¥")])),_:1}),d(y,{class:"b-txt"},{default:l((()=>[f(h(qe(Ie(e))),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):g("",!0),d(n,{class:"bottom-info"},{default:l((()=>[d(y,{class:"time"},{default:l((()=>[f(h(e.time),1)])),_:2},1024),d(n,{class:"actions"},{default:l((()=>[d(n,{class:s(["action-btn like-btn",{liked:e.isLiked,animating:le.value[t]}]),onClick:e=>(async e=>{await Me(e),xe(3)})(t)},{default:l((()=>[d(y,{class:"icon iconfont"},{default:l((()=>[f(h(e.isLiked?"â¤ï¸":"ğŸ¤"),1)])),_:2},1024),d(y,{class:"action-text"},{default:l((()=>[f(h(e.isLiked?"å·²èµ":"ç‚¹èµ"),1)])),_:2},1024),d(y,{class:"action-count"},{default:l((()=>[f(h(e.likes&&e.likes.length||0),1)])),_:2},1024),le.value[t]?(i(),a(n,{key:0,class:"like-burst-particles"},{default:l((()=>[(i(),p(_,null,v(8,(e=>d(n,{key:e,class:s(["particle","p"+e])},null,8,["class"]))),64))])),_:1})):g("",!0)])),_:2},1032,["class","onClick"]),d(n,{class:"action-btn comment-btn",onClick:e=>(e=>{ae.value=e,X.value=!0})(t)},{default:l((()=>[d(y,{class:"icon iconfont"},{default:l((()=>[f("ğŸ’¬")])),_:1}),d(y,{class:"action-text"},{default:l((()=>[f("è¯„è®º")])),_:1}),d(y,{class:"action-count"},{default:l((()=>[f(h(e.comments&&e.comments.length||0),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),e.likes&&e.likes.length?(i(),a(n,{key:2,class:"likes-section"},{default:l((()=>[d(y,{class:"like-users"},{default:l((()=>[f(h(e.likes.join("ã€")),1)])),_:2},1024)])),_:2},1024)):g("",!0),e.contactValue?(i(),a(n,{key:3,class:"contact-section"},{default:l((()=>[d(y,{class:"contact-icon"},{default:l((()=>[f("ğŸ“")])),_:1}),d(y,{class:"contact-text"},{default:l((()=>{return[f(h((t=e.contactType,{wechat:"å¾®ä¿¡",phone:"æ‰‹æœº",qq:"QQ",email:"é‚®ç®±"}[t]||"è”ç³»"))+"ï¼š"+h(e.contactValue),1)];var t})),_:2},1024)])),_:2},1024)):g("",!0),e.comments&&0!==e.comments.length?(i(),a(n,{key:4,class:"comments-section"},{default:l((()=>[(i(!0),p(_,null,v(e.comments,((e,t)=>(i(),a(n,{class:"comment-item",key:t},{default:l((()=>[d(o,{class:"comment-anon-icon",src:e.avatar||r(Q)},null,8,["src"]),d(y,{class:"comment-user"},{default:l((()=>[f(h(e.username)+"ï¼š",1)])),_:2},1024),d(y,{class:"comment-content"},{default:l((()=>[f(h(e.content),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)):g("",!0)])),_:2},1024),d(n,{class:"more-btn",onClick:e=>{b({itemList:["ä¸¾æŠ¥","æ‹‰é»‘","ä¸æ„Ÿå…´è¶£"],success:e=>{const t=e.tapIndex;0===t?c({title:"å·²æ”¶åˆ°ä¸¾æŠ¥",icon:"none"}):1===t?c({title:"å·²æ‹‰é»‘è¯¥ç”¨æˆ·",icon:"none"}):2===t&&c({title:"å°†å‡å°‘ç±»ä¼¼å†…å®¹",icon:"none"})}})}},{default:l((()=>[f("â‹¯")])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),X.value?(i(),a(n,{key:1,class:"comment-popup",onClick:me},{default:l((()=>[d(n,{class:"comment-box animated-popup",onClick:t[1]||(t[1]=k((()=>{}),["stop"]))},{default:l((()=>[d(n,{class:"comment-input-area"},{default:l((()=>[d(A,{class:"comment-input",modelValue:te.value,"onUpdate:modelValue":t[0]||(t[0]=e=>te.value=e),placeholder:"@åŒ¿åç”¨æˆ· è¯´ç‚¹ä»€ä¹ˆ...",focus:X.value,onConfirm:de},null,8,["modelValue","focus"]),d(n,{class:"toolbar"},{default:l((()=>[d(y,{class:"emoji-btn",onClick:fe},{default:l((()=>[f("ğŸ˜Š")])),_:1}),d(U,{class:s(["submit-btn",{active:te.value.trim()}]),onClick:de},{default:l((()=>[f("å‘é€")])),_:1},8,["class"])])),_:1})])),_:1}),ee.value?(i(),a(n,{key:0,class:"emoji-panel"},{default:l((()=>[d(V,{"scroll-y":"",class:"emoji-list"},{default:l((()=>[d(n,{class:"emoji-group"},{default:l((()=>[(i(),p(_,null,v(Re,((e,t)=>d(y,{key:t,class:"emoji-item",onClick:t=>(e=>{te.value+=e})(e)},{default:l((()=>[f(h(e),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),_:1})])),_:1})):g("",!0)])),_:1})])),_:1})):g("",!0),d(n,{class:s(["music-btn",{playing:Ae.value}]),onClick:Be},{default:l((()=>[d(y,{class:"music-icon"},{default:l((()=>[f("â™ª")])),_:1})])),_:1},8,["class"]),ke.value?(i(),a(n,{key:2,class:"fireworks"},{default:l((()=>[(i(!0),p(_,null,v(ye.value,(e=>(i(),a(n,{key:e.id,class:"fw",style:m({left:e.x+"%",top:e.y+"%"})},{default:l((()=>[(i(),p(_,null,v(12,(t=>d(n,{key:t,class:s(["fw-p","p"+t,e.theme])},null,8,["class"]))),64))])),_:2},1032,["style"])))),128))])),_:1})):g("",!0)])),_:1},8,["class"])}}},[["__scopeId","data-v-b0dd2519"]]);export{P as default};
