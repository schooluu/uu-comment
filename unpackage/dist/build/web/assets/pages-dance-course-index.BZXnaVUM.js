import{r as a,N as e,U as t,c as l,e as s,w as c,f as n,k as i,i as u,F as o,j as r,h as d,t as f,z as m,v as p,x as v,q as y,S as _,o as h,M as g,n as k,D as b,l as F,g as C,O as j,P as w,y as A,Q as N}from"./index-BG1tn67b.js";import{T as E}from"./tab-bar.Bet-md5b.js";import{_ as Z}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=Z({__name:"filter-popup",props:{show:Boolean,filterType:String},emits:["update:show","confirm"],setup(h,{emit:g}){const k=h,b=g,F=["门店","1个时段","风格","导师"],C=a(0),j=a("全部"),w=a("明星导师");a("");const A=["FancyFancy舞室金鹰店","FancyFancy舞室南京店","FancyFancy舞室博荟店","FancyFancy成都晶融汇店","FancyFancy舞室大悦城店","FancyFancy舞室梅奔店","FancyFancy舞室嘉里合集店","FancyFancy舞室华润店","FancyFancy舞室杭州中心店","FancyFancy舞室人广来福士店","FancyFancy舞室徐汇传媒港店","FancyFancy舞室长宁来福士店"],N=[{time:"全部",value:"all"},{time:"08:00 ~ 10:00",value:"08-10"},{time:"10:00 ~ 12:00",value:"10-12"},{time:"12:00 ~ 14:00",value:"12-14"},{time:"14:00 ~ 16:00",value:"14-16"},{time:"16:00 ~ 18:00",value:"16-18"},{time:"18:00 ~ 20:00",value:"18-20"},{time:"20:00 ~ 22:00",value:"20-22"}],E={"明星导师":[{name:"APHRODITE",avatar:"/static/teachers/aphrodite.jpg"},{name:"CHERRY",avatar:"/static/teachers/cherry.jpg"},{name:"DEVIN PORNEL",avatar:"/static/teachers/devin.jpg"},{name:"DOYUN",avatar:"/static/teachers/doyun.jpg"},{name:"JUNHO LEE",avatar:"/static/teachers/junho.jpg"},{name:"MAAIN",avatar:"/static/teachers/maain.jpg"},{name:"MARLEE HIGHTOWER",avatar:"/static/teachers/marlee.jpg"}]},Z=["上海","杭州","南京","成都"],T=e((()=>{switch(C.value){case 0:return A;case 1:return N;case 2:return styleList;case 3:return E;default:return[]}})),x=e((()=>E[w.value]||[])),D=a=>{j.value=a},O=()=>{j.value="全部"},R=()=>{b("update:show",!1)},S=()=>{b("confirm",{type:F[C.value],value:j.value}),R()},H=a=>{w.value=a,j.value="全部"};return t((()=>k.filterType),(a=>{a&&(T.value=(a=>{switch(a){case"store":return["全部","已收藏的门店","FancyFancy舞室金鹰店","FancyFancy舞室南京店"];case"time":return["全部时段","上午(10:00-12:00)","中午(12:00-14:00)","下午(14:00-18:00)","晚上(18:00-22:00)"];case"style":return["全部风格","Jazz","Hip-hop","Urban","Contemporary","Kpop"];case"teacher":return["全部导师","推荐导师","收藏导师"];default:return[]}})(a))})),(a,e)=>{const t=p,g=v,k=y,b=_;return h.show?(l(),s(t,{key:0,class:"filter-popup"},{default:c((()=>[n(t,{class:i(["popup-mask",{closing:h.show}]),onClick:R},null,8,["class"]),n(t,{class:"popup-content"},{default:c((()=>[n(t,{class:"tab-bar"},{default:c((()=>[(l(),u(o,null,r(F,((a,e)=>n(t,{key:e,class:i(["tab-item",{active:C.value===e}]),onClick:a=>(a=>{C.value=a})(e)},{default:c((()=>[d(f(a)+" ",1),C.value===e?(l(),s(t,{key:0,class:"indicator"})):m("",!0)])),_:2},1032,["class","onClick"]))),64))])),_:1}),n(b,{class:"options-list","scroll-y":""},{default:c((()=>[1===C.value?(l(),u(o,{key:0},[n(t,{class:"option-row"},{default:c((()=>[n(t,{class:i(["option-item full-width",{active:"全部"===j.value}]),onClick:e[0]||(e[0]=a=>D("全部"))},{default:c((()=>[d(" 全部 ")])),_:1},8,["class"])])),_:1}),n(t,{class:"option-grid"},{default:c((()=>[(l(!0),u(o,null,r(N.slice(1),((a,e)=>(l(),s(t,{key:e,class:i(["option-item",{active:j.value===a.time}]),onClick:e=>D(a.time)},{default:c((()=>[d(f(a.time),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})],64)):3===C.value?(l(),s(t,{key:1,class:"teacher-section"},{default:c((()=>[n(t,{class:"filter-content"},{default:c((()=>[n(t,{class:"city-categories"},{default:c((()=>[n(t,{class:i(["category-item",{active:"明星导师"===w.value}]),onClick:e[1]||(e[1]=a=>H("明星导师"))},{default:c((()=>[d(" 明星导师 ")])),_:1},8,["class"]),(l(),u(o,null,r(Z,((a,e)=>n(t,{key:e,class:i(["category-item",{active:w.value===`人气导师-${a}`}]),onClick:e=>H(`人气导师-${a}`)},{default:c((()=>[d(" 人气导师 - "+f(a),1)])),_:2},1032,["class","onClick"]))),64)),n(t,{class:i(["category-item",{active:"新晋导师"===w.value}]),onClick:e[2]||(e[2]=a=>H("新晋导师"))},{default:c((()=>[d(" 新晋导师 ")])),_:1},8,["class"]),n(t,{class:i(["category-item",{active:"零基础"===w.value}]),onClick:e[3]||(e[3]=a=>H("零基础"))},{default:c((()=>[d(" 零基础 ")])),_:1},8,["class"]),n(t,{class:i(["category-item",{active:"已收藏的导师"===w.value}]),onClick:e[4]||(e[4]=a=>H("已收藏的导师"))},{default:c((()=>[d(" 已收藏的导师 ")])),_:1},8,["class"])])),_:1}),n(b,{class:"teacher-list","scroll-y":""},{default:c((()=>[(l(!0),u(o,null,r(x.value,((a,e)=>(l(),s(t,{class:i(["teacher-item",{active:j.value===a.name}]),key:e,onClick:e=>D(a.name)},{default:c((()=>[n(g,{class:"teacher-avatar",src:a.avatar,mode:"aspectFill"},null,8,["src"]),n(k,{class:"teacher-name"},{default:c((()=>[d(f(a.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})):(l(),u(o,{key:2},[n(t,{class:"option-row"},{default:c((()=>[n(t,{class:i(["option-item full-width",{active:"全部"===j.value}]),onClick:e[5]||(e[5]=a=>D("全部"))},{default:c((()=>[d(" 全部 ")])),_:1},8,["class"])])),_:1}),0===C.value?(l(),s(t,{key:0,class:"option-row"},{default:c((()=>[n(t,{class:i(["option-item full-width",{active:"已收藏的门店"===j.value}]),onClick:e[6]||(e[6]=a=>D("已收藏的门店"))},{default:c((()=>[d(" 已收藏的门店 ")])),_:1},8,["class"])])),_:1})):m("",!0),n(t,{class:"option-grid"},{default:c((()=>[(l(!0),u(o,null,r(T.value,((a,e)=>(l(),s(t,{class:i(["option-item",{active:j.value===a}]),key:e,onClick:e=>D(a)},{default:c((()=>[d(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})],64))])),_:1}),n(t,{class:"popup-footer"},{default:c((()=>[n(t,{class:"btn btn-clear",onClick:O},{default:c((()=>[d("清空")])),_:1}),n(t,{class:"btn btn-confirm",onClick:S},{default:c((()=>[d("确认")])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0)}}},[["__scopeId","data-v-ccdaafd6"]]),x=Z({__name:"index",setup(t){const Z=a([{day:"Tue",date:"今天"},{day:"Wed",date:"20"},{day:"Thur",date:"21"},{day:"Fri",date:"22"},{day:"Sat",date:"23"},{day:"Sun",date:"24"},{day:"Mon",date:"25"},{day:"Week",date:"一周"}]),x=a([{teacherName:"FAFA",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png",title:"JAZZ",level:3,count:"1",time:"2024.11.19 周二 18:00~19:00",location:"FancyFancy舞室大悦城店 上空",status:"book"},{teacherName:"宝宝babo",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png",title:"JAZZ 身体开发",level:1,count:"1",time:"2024.11.19 周二 18:00~19:00",location:"FancyFancy舞室大悦城店 B教室",status:"tight",remaining:2},{teacherName:"大圆",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"MV DANCE",level:2,count:"1",time:"2024.11.19 周二 18:20~19:20",location:"FancyFancy舞室大悦城店 A教室",status:"full"},{teacherName:"Lynn",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"JAZZ",level:3,count:"1",time:"2024.11.19 周二 19:10~20:10",location:"FancyFancy舞室大悦店 上空",status:"tight",remaining:8},{teacherName:"Wantina",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"JAZZ 基础",level:1,count:"1",time:"2024.11.19 周二 19:10~20:10",location:"FancyFancy舞室大悦城店 B教室",status:"tight",remaining:2}]),D=a(!1),O=a(""),R=a(!1),S=a(0),H=a(0),I=a(!1),J=a(0),M=e((()=>{const a=b();return`/${a[a.length-1].route}`})),P=a=>{O.value=a,D.value=!0},U=a=>{console.log("选中的筛选条件:",a),a.type},z=()=>{R.value=!R.value,W()},L=()=>{F({url:"/pages/dance/course/search"})},W=()=>{const a=x.value.filter((a=>!(R.value&&a.level>1)));x.value=a},B=a=>{const e=140*a-((J.value||C().windowWidth)-140)/2;return Math.max(0,e)},$=a=>{};h((()=>{g().select(".date-scroll").boundingClientRect((a=>{J.value=a.width})).exec()})),h((()=>{setTimeout((()=>{I.value=!0}),3e3)}));const G=a([{image:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120131438.png",title:"DOPAMINE",subtitle:"万圣开篇，酷炫装扮等你来COS",date:"November 2024",theme:"Passionate Freedom /AFRO."},{image:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120131438.png",title:"JAZZ NIGHT",subtitle:"爵士之夜，感受律动的魅力",date:"December 2024",theme:"Rhythm & Soul /JAZZ."},{image:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120131438.png",title:"STREET DANCE",subtitle:"街舞派对，展现你的态度",date:"January 2025",theme:"Urban Style /HIP-HOP."}]);return(a,e)=>{const t=v,h=y,g=p,b=j,F=w,C=_,O=A,J=N;return l(),s(g,{class:"container"},{default:c((()=>[n(F,{class:"banner-swiper animate-fade-in",circular:"",autoplay:"",interval:"3000",duration:"500"},{default:c((()=>[(l(!0),u(o,null,r(G.value,((a,e)=>(l(),s(b,{key:e},{default:c((()=>[n(g,{class:"banner-item"},{default:c((()=>[n(t,{class:"banner-image",src:a.image,mode:"aspectFill"},null,8,["src"]),n(g,{class:"banner-content"},{default:c((()=>[n(h,{class:"title"},{default:c((()=>[d(f(a.title),1)])),_:2},1024),n(h,{class:"subtitle"},{default:c((()=>[d("/"+f(a.subtitle),1)])),_:2},1024),n(h,{class:"date"},{default:c((()=>[d("'"+f(a.date),1)])),_:2},1024),n(h,{class:"theme"},{default:c((()=>[d(f(a.theme),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),n(g,{class:"tab-header animate-slide-down"},{default:c((()=>[n(h,{class:"tab-item active"},{default:c((()=>[d("常规课")])),_:1}),n(h,{class:"tab-item"},{default:c((()=>[d("活动赛事")])),_:1})])),_:1}),n(g,{class:"filter-section animate-slide-right"},{default:c((()=>[n(g,{class:"filter-item",onClick:e[0]||(e[0]=a=>P("store"))},{default:c((()=>[d(" 门店 "),n(h,{class:"icon"},{default:c((()=>[d("∨")])),_:1})])),_:1}),n(g,{class:"filter-item",onClick:e[1]||(e[1]=a=>P("time"))},{default:c((()=>[d(" 时段 "),n(h,{class:"icon"},{default:c((()=>[d("∨")])),_:1})])),_:1}),n(g,{class:"filter-item",onClick:e[2]||(e[2]=a=>P("style"))},{default:c((()=>[d(" 风格 "),n(h,{class:"icon"},{default:c((()=>[d("∨")])),_:1})])),_:1}),n(g,{class:"filter-item",onClick:e[3]||(e[3]=a=>P("teacher"))},{default:c((()=>[d(" 导师 "),n(h,{class:"icon"},{default:c((()=>[d("∨")])),_:1})])),_:1}),n(g,{class:i(["filter-item",{active:R.value}]),onClick:z},{default:c((()=>[d(" 0基础 ")])),_:1},8,["class"]),n(g,{class:"filter-item search",onClick:L},{default:c((()=>[n(h,{class:"icon"},{default:c((()=>[d("🔍")])),_:1})])),_:1})])),_:1}),n(C,{class:"date-scroll animate-fade-in","scroll-x":"","show-scrollbar":"false",enhanced:"","scroll-with-animation":!0,"scroll-left":H.value,onScroll:$},{default:c((()=>[n(g,{class:"date-list"},{default:c((()=>[(l(!0),u(o,null,r(Z.value,((a,e)=>(l(),s(g,{class:i(["date-item",{active:S.value===e}]),key:e,onClick:a=>(a=>{S.value=a;const e=B(a);H.value=e})(e)},{default:c((()=>[n(h,{class:"day"},{default:c((()=>[d(f(a.day),1)])),_:2},1024),n(h,{class:"date"},{default:c((()=>[d(f(a.date),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),n(g,{class:i(["scroll-hint",{hide:I.value}])},{default:c((()=>[n(h,{class:"hint-text"},{default:c((()=>[d("左右滑动查看更多")])),_:1}),n(h,{class:"hint-arrow"},{default:c((()=>[d("›")])),_:1})])),_:1},8,["class"])])),_:1},8,["scroll-left"]),n(g,{class:"course-list"},{default:c((()=>[(l(!0),u(o,null,r(x.value,((e,u)=>(l(),s(g,{class:"course-item animate-slide-up",key:u,style:k({animationDelay:.1*u+"s"})},{default:c((()=>[n(g,{class:"course-header"},{default:c((()=>[n(t,{class:"teacher-avatar",src:e.avatar,mode:"aspectFill"},null,8,["src"]),n(h,{class:"teacher-name"},{default:c((()=>[d(f(e.teacherName),1)])),_:2},1024)])),_:2},1024),n(g,{class:"course-info"},{default:c((()=>[n(g,{class:"title-row"},{default:c((()=>[n(h,{class:"course-title"},{default:c((()=>[d(f(e.title),1)])),_:2},1024),n(h,{class:"stars"},{default:c((()=>[d(f("⭐".repeat(e.level)),1)])),_:2},1024)])),_:2},1024),n(h,{class:"course-count"},{default:c((()=>[d(f(e.count)+"课次",1)])),_:2},1024),n(h,{class:"course-time"},{default:c((()=>[d(f(e.time),1)])),_:2},1024),n(h,{class:"course-location"},{default:c((()=>[d(f(e.location),1)])),_:2},1024)])),_:2},1024),n(g,{class:"course-status"},{default:c((()=>[e.remaining?(l(),s(g,{key:0,class:"remaining"},{default:c((()=>[n(h,{class:"text"},{default:c((()=>[d("剩余"+f(e.remaining)+"位",1)])),_:2},1024)])),_:2},1024)):m("",!0),n(O,{class:i(["action-btn",{"btn-book":"book"===e.status,"btn-full":"full"===e.status,"btn-tight":"tight"===e.status}]),onClick:t=>a.handleCourse(e)},{default:c((()=>{return[d(f((a=e.status,{book:"预约",full:"爆满",tight:"紧张"}[a]||a)),1)];var a})),_:2},1032,["class","onClick"])])),_:2},1024),n(g,{class:"favorite-btn",onClick:t=>a.toggleFavorite(e)},{default:c((()=>[n(g,{class:"icon"},{default:c((()=>[e.isFavorite?(l(),s(J,{key:1,type:"heart",size:"40",color:"#FF4D8F"})):(l(),s(J,{key:0,type:"heart-o",size:"40"}))])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1032,["style"])))),128))])),_:1}),n(E,{current:M.value},null,8,["current"]),n(T,{show:D.value,"onUpdate:show":e[4]||(e[4]=a=>D.value=a),onConfirm:U},null,8,["show"])])),_:1})}}},[["__scopeId","data-v-d20a89aa"]]);export{x as default};
