import{r as e,c as s,a,w as l,i as t,b as c,d as i,f as d,g as n,h as u,n as m,t as p,j as o,F as g,T as r,z as f,m as _,l as h}from"./index-B1YqlGux.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=y({__name:"index",setup(y){const b=e([{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0}]),k=e([{id:101,name:"推荐商品1",price:199,image:"/static/images/recommend-1.png"}]),q=s((()=>b.value.length>0&&b.value.every((e=>e.selected)))),v=s((()=>b.value.filter((e=>e.selected)).length)),j=s((()=>b.value.filter((e=>e.selected)).reduce(((e,s)=>e+s.price*s.quantity),0).toFixed(2))),C=()=>{const e=!q.value;b.value.forEach((s=>{s.selected=e}))},x=(e,s)=>{const a=e.quantity+s;a<1||(e.quantity=a)},F=()=>{r({url:"/pages/shop/index"})},w=()=>{v.value&&f({url:"/pages/shop/store/checkout"})};return(e,s)=>{const r=_,y=h,z=t;return c(),a(z,{class:"cart-page"},{default:l((()=>[b.value.length?(c(),a(z,{key:1,class:"cart-list"},{default:l((()=>[(c(!0),n(g,null,u(b.value,(e=>(c(),a(z,{class:"cart-item",key:e.id},{default:l((()=>[i(z,{class:"checkbox",onClick:s=>(e=>{e.selected=!e.selected})(e)},{default:l((()=>[i(y,{class:m(["icon",{selected:e.selected}])},{default:l((()=>[d("✓")])),_:2},1032,["class"])])),_:2},1032,["onClick"]),i(r,{class:"goods-image",src:e.image,mode:"aspectFill"},null,8,["src"]),i(z,{class:"goods-info"},{default:l((()=>[i(z,{class:"goods-name"},{default:l((()=>[d(p(e.name),1)])),_:2},1024),e.spec?(c(),a(z,{key:0,class:"goods-spec"},{default:l((()=>[d(p(e.spec),1)])),_:2},1024)):o("",!0),i(z,{class:"goods-price-wrap"},{default:l((()=>[i(y,{class:"goods-price"},{default:l((()=>[d("¥"+p(e.price),1)])),_:2},1024),i(z,{class:"quantity-control"},{default:l((()=>[i(y,{class:m(["minus",{disabled:e.quantity<=1}]),onClick:s=>x(e,-1)},{default:l((()=>[d("-")])),_:2},1032,["class","onClick"]),i(y,{class:"quantity"},{default:l((()=>[d(p(e.quantity),1)])),_:2},1024),i(y,{class:"plus",onClick:s=>x(e,1)},{default:l((()=>[d("+")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(c(),a(z,{key:0,class:"empty-cart"},{default:l((()=>[i(r,{class:"empty-image",src:"./static/images/empty-cart.png"}),i(y,{class:"empty-text"},{default:l((()=>[d("购物车还是空的")])),_:1}),i(z,{class:"go-shopping",onClick:F},{default:l((()=>[d("去逛逛")])),_:1})])),_:1})),k.value.length?(c(),a(z,{key:2,class:"recommend"},{default:l((()=>[i(z,{class:"recommend-title"},{default:l((()=>[d("猜你喜欢")])),_:1}),i(z,{class:"recommend-list"},{default:l((()=>[(c(!0),n(g,null,u(k.value,(e=>(c(),a(z,{class:"recommend-item",key:e.id,onClick:s=>(e=>{f({url:`/pages/shop/goods/detail?id=${e.id}`})})(e)},{default:l((()=>[i(r,{class:"recommend-image",src:e.image,mode:"aspectFill"},null,8,["src"]),i(z,{class:"recommend-name"},{default:l((()=>[d(p(e.name),1)])),_:2},1024),i(z,{class:"recommend-price"},{default:l((()=>[d("¥"+p(e.price),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):o("",!0),i(z,{class:"checkout-bar"},{default:l((()=>[i(z,{class:"left"},{default:l((()=>[i(z,{class:"select-all",onClick:C},{default:l((()=>[i(z,{class:m(["checkbox",{selected:q.value}])},{default:l((()=>[i(y,{class:"icon"},{default:l((()=>[d("✓")])),_:1})])),_:1},8,["class"]),i(y,{class:"text"},{default:l((()=>[d("全选")])),_:1})])),_:1})])),_:1}),i(z,{class:"right"},{default:l((()=>[i(z,{class:"total-info"},{default:l((()=>[i(y,{class:"label"},{default:l((()=>[d("合计：")])),_:1}),i(y,{class:"total-price"},{default:l((()=>[d("¥"+p(j.value),1)])),_:1})])),_:1}),i(z,{class:m(["checkout-btn",{disabled:!v.value}]),onClick:w},{default:l((()=>[d(" 结算"),v.value?(c(),a(y,{key:0},{default:l((()=>[d("("+p(v.value)+")",1)])),_:1})):o("",!0)])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-5cca9457"]]);export{b as default};
