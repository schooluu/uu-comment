import{r as e,o as a,e as s,w as l,v as t,c,f as u,i,j as n,F as r,h as d,t as o,k as f,z as m,an as _,ag as p,l as g,p as v,x as h,O as b,P as w,q as k,S as y,y as x}from"./index-BG1tn67b.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=C({__name:"detail",setup(C){const j=e({id:1,name:"喜茶北京三里屯店",images:["https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"],rating:4.8,reviewCount:2580,status:"open",statusText:"营业中",address:"北京市朝阳区三里屯太古里北区N8-B1-3",distance:.8,businessHours:"10:00-22:00",phone:"010-12345678",features:[{icon:"🚗",name:"停车场"},{icon:"🔋",name:"充电宝"},{icon:"📶",name:"WIFI"},{icon:"🎫",name:"礼品卡"},{icon:"🧊",name:"店内取餐"},{icon:"🛵",name:"外卖配送"}],notice:"本店新推出夏日特饮系列，欢迎品尝！",hotProducts:[{id:1,name:"多肉葡萄",price:"32",image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"}],reviews:[{id:1,avatar:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",name:"张三",time:"2024-01-20",rating:5,ratingText:"非常满意",content:"店员服务很好，饮品口感一如既往的赞！",images:["https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"]}],latitude:39.934,longitude:116.455}),q=()=>{_({latitude:j.value.latitude,longitude:j.value.longitude,name:j.value.name,address:j.value.address})},F=()=>{p({phoneNumber:j.value.phone})},I=()=>{g({url:`/pages/shop/store/reviews?id=${j.value.id}`})},S=()=>{uni.share({provider:"weixin",scene:"WXSceneSession",type:0,title:j.value.name,summary:`欢迎光临${j.value.name}`,imageUrl:j.value.images[0],success:function(e){console.log("分享成功：",e)}})},T=()=>{"closed"!==j.value.status&&g({url:`/pages/shop/order/create?storeId=${j.value.id}`})};return a((()=>{})),(e,a)=>{const _=h,p=b,C=w,$=k,P=t,H=y,N=x;return c(),s(P,{class:"store-detail"},{default:l((()=>[u(C,{class:"store-swiper","indicator-dots":!0,autoplay:!0,interval:"5000",circular:""},{default:l((()=>[(c(!0),i(r,null,n(j.value.images,((e,a)=>(c(),s(p,{key:a},{default:l((()=>[u(_,{src:e,mode:"aspectFill",class:"swiper-image"},null,8,["src"])])),_:2},1024)))),128))])),_:1}),u(P,{class:"store-info glass-effect"},{default:l((()=>[u(P,{class:"store-header"},{default:l((()=>[u(P,{class:"left"},{default:l((()=>[u($,{class:"store-name"},{default:l((()=>[d(o(j.value.name),1)])),_:1}),u(P,{class:"rating"},{default:l((()=>[u($,{class:"stars"},{default:l((()=>[d("⭐️⭐️⭐️⭐️⭐️")])),_:1}),u($,{class:"score"},{default:l((()=>[d(o(j.value.rating),1)])),_:1}),u($,{class:"reviews"},{default:l((()=>[d("("+o(j.value.reviewCount)+"条评价)",1)])),_:1})])),_:1})])),_:1}),u(P,{class:f(["status-tag",j.value.status])},{default:l((()=>[d(o(j.value.statusText),1)])),_:1},8,["class"])])),_:1}),u(P,{class:"info-row",onClick:q},{default:l((()=>[u($,{class:"label"},{default:l((()=>[d("门店地址")])),_:1}),u(P,{class:"value address"},{default:l((()=>[u($,null,{default:l((()=>[d(o(j.value.address),1)])),_:1}),u($,{class:"distance"},{default:l((()=>[d(o(j.value.distance)+"km",1)])),_:1}),u($,{class:"nav-icon"},{default:l((()=>[d("📍")])),_:1})])),_:1})])),_:1}),u(P,{class:"info-row"},{default:l((()=>[u($,{class:"label"},{default:l((()=>[d("营业时间")])),_:1}),u($,{class:"value"},{default:l((()=>[d(o(j.value.businessHours),1)])),_:1})])),_:1}),u(P,{class:"info-row"},{default:l((()=>[u($,{class:"label"},{default:l((()=>[d("联系电话")])),_:1}),u($,{class:"value phone",onClick:F},{default:l((()=>[d(o(j.value.phone),1)])),_:1})])),_:1})])),_:1}),u(P,{class:"features glass-effect"},{default:l((()=>[u(P,{class:"section-title"},{default:l((()=>[d("门店特色")])),_:1}),u(P,{class:"feature-grid"},{default:l((()=>[(c(!0),i(r,null,n(j.value.features,(e=>(c(),s(P,{class:"feature-item",key:e.name},{default:l((()=>[u($,{class:"feature-icon"},{default:l((()=>[d(o(e.icon),1)])),_:2},1024),u($,{class:"feature-name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),j.value.notice?(c(),s(P,{key:0,class:"notice glass-effect"},{default:l((()=>[u(P,{class:"section-title"},{default:l((()=>[d("门店公告")])),_:1}),u($,{class:"notice-content"},{default:l((()=>[d(o(j.value.notice),1)])),_:1})])),_:1})):m("",!0),u(P,{class:"hot-products glass-effect"},{default:l((()=>[u(P,{class:"section-title"},{default:l((()=>[d("热门商品")])),_:1}),u(H,{class:"products-scroll","scroll-x":"","show-scrollbar":!1,enhanced:""},{default:l((()=>[u(P,{class:"product-list"},{default:l((()=>[(c(!0),i(r,null,n(j.value.hotProducts,(e=>(c(),s(P,{class:"product-card",key:e.id,onClick:a=>(e=>{g({url:`/pages/shop/product/detail?id=${e.id}`})})(e)},{default:l((()=>[u(_,{src:e.image,mode:"aspectFill",class:"product-image"},null,8,["src"]),u($,{class:"product-name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024),u($,{class:"product-price"},{default:l((()=>[d("¥"+o(e.price),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),u(P,{class:"reviews glass-effect"},{default:l((()=>[u(P,{class:"section-header"},{default:l((()=>[u($,{class:"section-title"},{default:l((()=>[d("用户评价")])),_:1}),u($,{class:"view-all",onClick:I},{default:l((()=>[d("查看全部 →")])),_:1})])),_:1}),(c(!0),i(r,null,n(j.value.reviews,(e=>(c(),s(P,{class:"review-item",key:e.id},{default:l((()=>{var a;return[u(P,{class:"reviewer-info"},{default:l((()=>[u(_,{src:e.avatar,class:"avatar"},null,8,["src"]),u($,{class:"name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024),u($,{class:"time"},{default:l((()=>[d(o(e.time),1)])),_:2},1024)])),_:2},1024),u(P,{class:"review-rating"},{default:l((()=>[u($,{class:"stars"},{default:l((()=>[d(o("⭐️".repeat(e.rating)),1)])),_:2},1024),u($,{class:"rating-text"},{default:l((()=>[d(o(e.ratingText),1)])),_:2},1024)])),_:2},1024),u($,{class:"review-content"},{default:l((()=>[d(o(e.content),1)])),_:2},1024),(null==(a=e.images)?void 0:a.length)?(c(),s(P,{key:0,class:"review-images"},{default:l((()=>[(c(!0),i(r,null,n(e.images,((a,l)=>(c(),s(_,{key:l,src:a,mode:"aspectFill",class:"review-image",onClick:a=>{return s=e.images,void v({urls:s,current:s[l]});var s}},null,8,["src","onClick"])))),128))])),_:2},1024)):m("",!0)]})),_:2},1024)))),128))])),_:1}),u(P,{class:"action-bar glass-effect"},{default:l((()=>[u(N,{class:"share-btn",onClick:S},{default:l((()=>[u($,{class:"icon"},{default:l((()=>[d("📤")])),_:1}),u($,null,{default:l((()=>[d("分享")])),_:1})])),_:1}),u(N,{class:"primary-btn",onClick:T},{default:l((()=>[d(o("closed"===j.value.status?"已打烊":"去下单"),1)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b7d808df"]]);export{j as default};
