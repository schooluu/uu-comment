import{r as e,e as a,w as t,m as s,c as i,f as l,h as m,i as c,j as n,F as u,k as o,z as d,C as f,x as p,q as r,l as b,I as k,t as v,S as _,v as g,a0 as h}from"./index-BLUPgGtS.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w="https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0",P=y({__name:"index",setup(y){const P=e([{username:"UNIAPP X",avatar:w,content:"uni-app x, 是下一代 uni-app, 是一个跨平台应用开发引擎。uts是一门类ts的、跨平台的、新语言。uts在iOS端编译为swift、在Android端编译为kotlin、在Web端编译为js。",mediaType:"video",mediaUrl:"https://qiniu-web-assets.dcloud.net.cn/video/sample/2minute-demo.mp4",poster:w,time:"3分钟前",isLiked:!1,likes:["张三","查理斯","王二麻","切尔西"],comments:[{username:"查理斯",content:"这是什么地方？真好看啊"},{username:"张三",content:"从视频上看，我感觉应该是网上随便截的图，包括文案！"}]},{username:"Alice",avatar:w,content:"这是我最近拍的一些照片，感觉很不错！",mediaType:"image",mediaUrls:["https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0"],time:"5分钟前",isLiked:!0,likes:["李四","王五"],comments:[{username:"李四",content:"这张照片拍得真好！"}]},{username:"Alice",avatar:w,content:"这是我最近拍的一些照片，感觉很不错！",mediaType:"image",mediaUrls:["https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0"],time:"5分钟前",isLiked:!0,likes:["李四","王五"],comments:[{username:"李四",content:"这张照片拍得真好！"}]},{username:"Alice",avatar:w,content:"这是我最近拍的一些照片，感觉很不错！",mediaType:"image",mediaUrls:["https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0"],time:"5分钟前",isLiked:!0,likes:["李四","王五"],comments:[{username:"李四",content:"这张照片拍得真好！"}]},{username:"Alice",avatar:w,content:"这是我最近拍的一些照片，感觉很不错！",mediaType:"image",mediaUrls:["https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0"],time:"5分钟前",isLiked:!0,likes:["李四","王五"],comments:[{username:"李四",content:"这张照片拍得真好！"}]},{username:"Alice",avatar:w,content:"这是我最近拍的一些照片，感觉很不错！",mediaType:"image",mediaUrls:["https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0","https://img0.baidu.com/it/u=1415523915,841919565&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713286800&t=a9e21a0e5650a672fa2cbd3b133ed7e0"],time:"5分钟前",isLiked:!0,likes:["李四","王五"],comments:[{username:"李四",content:"这张照片拍得真好！"}]}]),z=e({}),E=e(!1),G=e(!1),J=e(""),C=e(-1),j=["😊","😂","🤣","❤️","😍","🤔","😒","👍","👎","😳","🥺","😭","😘","🤗","🙄","😴","🤮","🤧","😷","🤒","🤕","😈","👻","👽","🤖","💩","😺","💪","👊","✌️","🤞","🙏","👏","🙌","👐","🤲"],x=()=>{G.value=!G.value},L=()=>{E.value=!1,G.value=!1,J.value="",C.value=-1},U=()=>{if(!J.value.trim())return;const e={username:"当前用户",content:J.value.trim()};P.value[C.value].comments.push(e),L()},T=()=>{p({url:"/pages/wx/home/add"})},A=e=>{console.error("视频加载错误：",e)};return(e,p)=>{const y=r,F=b,I=s,V=h,q=k,O=v,S=_;return i(),a(I,{class:"moments-container"},{default:t((()=>[l(I,{class:"header"},{default:t((()=>[l(y,{class:"bg-image",src:w,mode:"aspectFill"}),l(I,{class:"camera-icon",onClick:T},{default:t((()=>[l(F,{class:"iconfont icon-camera"},{default:t((()=>[m("📸")])),_:1})])),_:1}),l(I,{class:"avatar-area"},{default:t((()=>[l(I,{class:"user-info"},{default:t((()=>[l(F,{class:"nickname"},{default:t((()=>[m("用户昵称")])),_:1}),l(y,{class:"avatar",src:w,mode:"aspectFill"})])),_:1})])),_:1})])),_:1}),l(I,{class:"moments-list"},{default:t((()=>[(i(!0),c(u,null,n(P.value,((e,s)=>(i(),a(I,{class:"moment-item",key:s},{default:t((()=>[l(y,{class:"user-avatar",src:e.avatar,mode:"aspectFill"},null,8,["src"]),l(I,{class:"content-area"},{default:t((()=>[l(I,{class:"username"},{default:t((()=>[m(g(e.username),1)])),_:2},1024),l(F,{class:"text-content"},{default:t((()=>[m(g(e.content),1)])),_:2},1024),e.mediaType?(i(),a(I,{key:0,class:"media-content"},{default:t((()=>["video"===e.mediaType?(i(),a(V,{key:0,src:e.mediaUrl,poster:e.poster,class:"video-content",controls:"","show-center-play-btn":"","enable-play-gesture":"","show-fullscreen-btn":"","show-play-btn":"","object-fit":"contain",onError:A},null,8,["src","poster"])):"image"===e.mediaType?(i(),a(I,{key:1,class:o(["image-gallery",`columns-${e.mediaUrls.length}`])},{default:t((()=>[(i(!0),c(u,null,n(e.mediaUrls,((e,t)=>(i(),a(y,{key:t,src:e,mode:"aspectFill",class:"image-content"},null,8,["src"])))),128))])),_:2},1032,["class"])):d("",!0)])),_:2},1024)):d("",!0),l(I,{class:"bottom-info"},{default:t((()=>[l(F,{class:"time"},{default:t((()=>[m(g(e.time),1)])),_:2},1024),l(I,{class:"actions"},{default:t((()=>[l(F,{class:o(["like-btn",{liked:e.isLiked,animating:z.value[s]}]),onClick:e=>(e=>{if(z.value[e]=!0,P.value[e].isLiked=!P.value[e].isLiked,P.value[e].isLiked)P.value[e].likes.push("当前用户");else{const a=P.value[e].likes.indexOf("当前用户");a>-1&&P.value[e].likes.splice(a,1)}setTimeout((()=>{z.value[e]=!1}),1e3)})(s)},{default:t((()=>[m(g(e.isLiked?"❤️":"🤍"),1)])),_:2},1032,["class","onClick"]),l(F,{class:"comment-btn",onClick:e=>(e=>{C.value=e,E.value=!0,G.value=!1})(s)},{default:t((()=>[m("💬")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),e.likes&&e.likes.length?(i(),a(I,{key:1,class:"likes-section"},{default:t((()=>[l(F,{class:"like-users"},{default:t((()=>[m(g(e.likes.join("、")),1)])),_:2},1024)])),_:2},1024)):d("",!0),e.comments&&e.comments.length?(i(),a(I,{key:2,class:"comments-section"},{default:t((()=>[(i(!0),c(u,null,n(e.comments,((e,s)=>(i(),a(I,{class:"comment-item",key:s},{default:t((()=>[l(F,{class:"comment-user"},{default:t((()=>[m(g(e.username)+"：",1)])),_:2},1024),l(F,{class:"comment-content"},{default:t((()=>[m(g(e.content),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)):d("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),E.value?(i(),a(I,{key:0,class:"comment-popup",onClick:L},{default:t((()=>[l(I,{class:"comment-box",onClick:p[1]||(p[1]=f((()=>{}),["stop"]))},{default:t((()=>[l(I,{class:"comment-input-area"},{default:t((()=>[l(q,{class:"comment-input",modelValue:J.value,"onUpdate:modelValue":p[0]||(p[0]=e=>J.value=e),placeholder:"评论",focus:E.value,onConfirm:U},null,8,["modelValue","focus"]),l(I,{class:"toolbar"},{default:t((()=>[l(F,{class:"emoji-btn",onClick:x},{default:t((()=>[m("😊")])),_:1}),l(O,{class:o(["submit-btn",{active:J.value.trim()}]),onClick:U},{default:t((()=>[m("发送")])),_:1},8,["class"])])),_:1})])),_:1}),G.value?(i(),a(I,{key:0,class:"emoji-panel"},{default:t((()=>[l(S,{"scroll-y":"",class:"emoji-list"},{default:t((()=>[l(I,{class:"emoji-group"},{default:t((()=>[(i(),c(u,null,n(j,((e,a)=>l(F,{key:a,class:"emoji-item",onClick:a=>(e=>{J.value+=e})(e)},{default:t((()=>[m(g(e),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})])),_:1})):d("",!0)])),_:1})}}},[["__scopeId","data-v-74f7026e"]]);export{P as default};
