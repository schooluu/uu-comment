import{r as e,R as l,e as a,w as s,m as t,c,f as u,h as n,i as d,j as o,F as i,v as r,z as p,k as v,a5 as _,s as f,G as m,H as h,E as k,l as g,K as b,I as y,t as C,q as V}from"./index-0EbhcMDI.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=x({__name:"feedback",setup(x){const j=[{id:1,name:"课程相关"},{id:2,name:"老师相关"},{id:3,name:"系统问题"},{id:4,name:"其他建议"}],w=e(0),F=e(""),I=e([]),T=e(""),U=l((()=>0!==w.value&&F.value.trim().length>0)),q=()=>{_({count:4-I.value.length,success:e=>{I.value=[...I.value,...e.tempFilePaths]}})},z=()=>{U.value?(m({title:"提交中"}),setTimeout((()=>{h(),f({title:"提交成功",icon:"success"}),w.value=0,F.value="",I.value=[],T.value="",setTimeout((()=>{k()}),1500)}),1500)):f({title:"请选择反馈类型并填写反馈内容",icon:"none"})};return(e,l)=>{const _=g,f=t,m=b,h=V,k=y,x=C;return c(),a(f,{class:"container"},{default:s((()=>[u(f,{class:"header"},{default:s((()=>[u(_,{class:"title"},{default:s((()=>[n("意见反馈")])),_:1})])),_:1}),u(f,{class:"type-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("反馈类型")])),_:1}),u(f,{class:"type-grid"},{default:s((()=>[(c(),d(i,null,o(j,(e=>u(f,{class:v(["type-item",{active:w.value===e.id}]),key:e.id,onClick:l=>{return a=e.id,void(w.value=a);var a}},{default:s((()=>[n(r(e.name),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),u(f,{class:"content-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("反馈内容")])),_:1}),u(m,{class:"content-input",modelValue:F.value,"onUpdate:modelValue":l[0]||(l[0]=e=>F.value=e),placeholder:"请详细描述您的问题或建议，以便我们更好地为您服务","placeholder-class":"placeholder",maxlength:"500"},null,8,["modelValue"]),u(_,{class:"word-count"},{default:s((()=>[n(r(F.value.length)+"/500",1)])),_:1})])),_:1}),u(f,{class:"upload-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("上传图片（选填，最多4张）")])),_:1}),u(f,{class:"upload-grid"},{default:s((()=>[(c(!0),d(i,null,o(I.value,((e,l)=>(c(),a(f,{class:"upload-item",key:l},{default:s((()=>[u(h,{class:"preview",src:e,mode:"aspectFill"},null,8,["src"]),u(_,{class:"delete-btn",onClick:e=>(e=>{I.value.splice(e,1)})(l)},{default:s((()=>[n("×")])),_:2},1032,["onClick"])])),_:2},1024)))),128)),I.value.length<4?(c(),a(f,{key:0,class:"upload-btn",onClick:q},{default:s((()=>[u(_,{class:"icon"},{default:s((()=>[n("+")])),_:1})])),_:1})):p("",!0)])),_:1})])),_:1}),u(f,{class:"contact-section"},{default:s((()=>[u(_,{class:"section-title"},{default:s((()=>[n("联系方式（选填）")])),_:1}),u(k,{class:"contact-input",modelValue:T.value,"onUpdate:modelValue":l[1]||(l[1]=e=>T.value=e),placeholder:"请留下您的手机号或邮箱，方便我们及时回复","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),u(x,{class:v(["submit-btn",{disabled:!U.value}]),onClick:z},{default:s((()=>[n(" 提交反馈 ")])),_:1},8,["class"])])),_:1})}}},[["__scopeId","data-v-fe7a562e"]]);export{j as default};
