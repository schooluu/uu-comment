import{r as e,o as a,a as s,w as l,i as t,b as c,d as u,g as i,h as n,F as r,f as d,t as o,n as f,j as m,ao as _,ah as g,z as p,B as v,m as h,P as b,Q as w,l as k,S as C,C as y}from"./index-B1YqlGux.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=j({__name:"detail",setup(j){const x=e({id:1,name:"喜茶北京三里屯店",images:["https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"],rating:4.8,reviewCount:2580,status:"open",statusText:"营业中",address:"北京市朝阳区三里屯太古里北区N8-B1-3",distance:.8,businessHours:"10:00-22:00",phone:"010-12345678",features:[{icon:"🚗",name:"停车场"},{icon:"🔋",name:"充电宝"},{icon:"📶",name:"WIFI"},{icon:"🎫",name:"礼品卡"},{icon:"🧊",name:"店内取餐"},{icon:"🛵",name:"外卖配送"}],notice:"本店新推出夏日特饮系列，欢迎品尝！",hotProducts:[{id:1,name:"多肉葡萄",price:"32",image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"}],reviews:[{id:1,avatar:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",name:"张三",time:"2024-01-20",rating:5,ratingText:"非常满意",content:"店员服务很好，饮品口感一如既往的赞！",images:["https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg","https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg"]}],latitude:39.934,longitude:116.455}),q=()=>{_({latitude:x.value.latitude,longitude:x.value.longitude,name:x.value.name,address:x.value.address})},F=()=>{g({phoneNumber:x.value.phone})},I=()=>{p({url:`/pages/shop/store/reviews?id=${x.value.id}`})},T=()=>{uni.share({provider:"weixin",scene:"WXSceneSession",type:0,title:x.value.name,summary:`欢迎光临${x.value.name}`,imageUrl:x.value.images[0],success:function(e){console.log("分享成功：",e)}})},$=()=>{"closed"!==x.value.status&&p({url:`/pages/shop/order/create?storeId=${x.value.id}`})};return a((()=>{})),(e,a)=>{const _=h,g=b,j=w,P=k,S=t,B=C,H=y;return c(),s(S,{class:"store-detail"},{default:l((()=>[u(j,{class:"store-swiper","indicator-dots":!0,autoplay:!0,interval:"5000",circular:""},{default:l((()=>[(c(!0),i(r,null,n(x.value.images,((e,a)=>(c(),s(g,{key:a},{default:l((()=>[u(_,{src:e,mode:"aspectFill",class:"swiper-image"},null,8,["src"])])),_:2},1024)))),128))])),_:1}),u(S,{class:"store-info glass-effect"},{default:l((()=>[u(S,{class:"store-header"},{default:l((()=>[u(S,{class:"left"},{default:l((()=>[u(P,{class:"store-name"},{default:l((()=>[d(o(x.value.name),1)])),_:1}),u(S,{class:"rating"},{default:l((()=>[u(P,{class:"stars"},{default:l((()=>[d("⭐️⭐️⭐️⭐️⭐️")])),_:1}),u(P,{class:"score"},{default:l((()=>[d(o(x.value.rating),1)])),_:1}),u(P,{class:"reviews"},{default:l((()=>[d("("+o(x.value.reviewCount)+"条评价)",1)])),_:1})])),_:1})])),_:1}),u(S,{class:f(["status-tag",x.value.status])},{default:l((()=>[d(o(x.value.statusText),1)])),_:1},8,["class"])])),_:1}),u(S,{class:"info-row",onClick:q},{default:l((()=>[u(P,{class:"label"},{default:l((()=>[d("门店地址")])),_:1}),u(S,{class:"value address"},{default:l((()=>[u(P,null,{default:l((()=>[d(o(x.value.address),1)])),_:1}),u(P,{class:"distance"},{default:l((()=>[d(o(x.value.distance)+"km",1)])),_:1}),u(P,{class:"nav-icon"},{default:l((()=>[d("📍")])),_:1})])),_:1})])),_:1}),u(S,{class:"info-row"},{default:l((()=>[u(P,{class:"label"},{default:l((()=>[d("营业时间")])),_:1}),u(P,{class:"value"},{default:l((()=>[d(o(x.value.businessHours),1)])),_:1})])),_:1}),u(S,{class:"info-row"},{default:l((()=>[u(P,{class:"label"},{default:l((()=>[d("联系电话")])),_:1}),u(P,{class:"value phone",onClick:F},{default:l((()=>[d(o(x.value.phone),1)])),_:1})])),_:1})])),_:1}),u(S,{class:"features glass-effect"},{default:l((()=>[u(S,{class:"section-title"},{default:l((()=>[d("门店特色")])),_:1}),u(S,{class:"feature-grid"},{default:l((()=>[(c(!0),i(r,null,n(x.value.features,(e=>(c(),s(S,{class:"feature-item",key:e.name},{default:l((()=>[u(P,{class:"feature-icon"},{default:l((()=>[d(o(e.icon),1)])),_:2},1024),u(P,{class:"feature-name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),x.value.notice?(c(),s(S,{key:0,class:"notice glass-effect"},{default:l((()=>[u(S,{class:"section-title"},{default:l((()=>[d("门店公告")])),_:1}),u(P,{class:"notice-content"},{default:l((()=>[d(o(x.value.notice),1)])),_:1})])),_:1})):m("",!0),u(S,{class:"hot-products glass-effect"},{default:l((()=>[u(S,{class:"section-title"},{default:l((()=>[d("热门商品")])),_:1}),u(B,{class:"products-scroll","scroll-x":"","show-scrollbar":!1,enhanced:""},{default:l((()=>[u(S,{class:"product-list"},{default:l((()=>[(c(!0),i(r,null,n(x.value.hotProducts,(e=>(c(),s(S,{class:"product-card",key:e.id,onClick:a=>(e=>{p({url:`/pages/shop/product/detail?id=${e.id}`})})(e)},{default:l((()=>[u(_,{src:e.image,mode:"aspectFill",class:"product-image"},null,8,["src"]),u(P,{class:"product-name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024),u(P,{class:"product-price"},{default:l((()=>[d("¥"+o(e.price),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),u(S,{class:"reviews glass-effect"},{default:l((()=>[u(S,{class:"section-header"},{default:l((()=>[u(P,{class:"section-title"},{default:l((()=>[d("用户评价")])),_:1}),u(P,{class:"view-all",onClick:I},{default:l((()=>[d("查看全部 →")])),_:1})])),_:1}),(c(!0),i(r,null,n(x.value.reviews,(e=>(c(),s(S,{class:"review-item",key:e.id},{default:l((()=>{var a;return[u(S,{class:"reviewer-info"},{default:l((()=>[u(_,{src:e.avatar,class:"avatar"},null,8,["src"]),u(P,{class:"name"},{default:l((()=>[d(o(e.name),1)])),_:2},1024),u(P,{class:"time"},{default:l((()=>[d(o(e.time),1)])),_:2},1024)])),_:2},1024),u(S,{class:"review-rating"},{default:l((()=>[u(P,{class:"stars"},{default:l((()=>[d(o("⭐️".repeat(e.rating)),1)])),_:2},1024),u(P,{class:"rating-text"},{default:l((()=>[d(o(e.ratingText),1)])),_:2},1024)])),_:2},1024),u(P,{class:"review-content"},{default:l((()=>[d(o(e.content),1)])),_:2},1024),(null==(a=e.images)?void 0:a.length)?(c(),s(S,{key:0,class:"review-images"},{default:l((()=>[(c(!0),i(r,null,n(e.images,((a,l)=>(c(),s(_,{key:l,src:a,mode:"aspectFill",class:"review-image",onClick:a=>{return s=e.images,void v({urls:s,current:s[l]});var s}},null,8,["src","onClick"])))),128))])),_:2},1024)):m("",!0)]})),_:2},1024)))),128))])),_:1}),u(S,{class:"action-bar glass-effect"},{default:l((()=>[u(H,{class:"share-btn",onClick:T},{default:l((()=>[u(P,{class:"icon"},{default:l((()=>[d("📤")])),_:1}),u(P,null,{default:l((()=>[d("分享")])),_:1})])),_:1}),u(H,{class:"primary-btn",onClick:$},{default:l((()=>[d(o("closed"===x.value.status?"已打烊":"去下单"),1)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b7d808df"]]);export{x as default};
