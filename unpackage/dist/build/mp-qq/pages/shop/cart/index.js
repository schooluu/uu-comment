"use strict";const e=require("../../../common/vendor.js"),t=require("../../../common/assets.js"),i={__name:"index",setup(i){const s=e.ref([{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0},{id:1,name:"测试商品1",spec:"规格：默认",price:99,quantity:1,image:"https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg",selected:!0}]),a=e.ref([{id:101,name:"推荐商品1",price:199,image:"/static/images/recommend-1.png"}]),c=e.computed((()=>s.value.length>0&&s.value.every((e=>e.selected)))),m=e.computed((()=>s.value.filter((e=>e.selected)).length)),p=e.computed((()=>s.value.filter((e=>e.selected)).reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2))),n=()=>{const e=!c.value;s.value.forEach((t=>{t.selected=e}))},g=(e,t)=>{const i=e.quantity+t;i<1||(e.quantity=i)},d=()=>{e.index.switchTab({url:"/pages/shop/index"})},l=()=>{m.value&&e.index.navigateTo({url:"/pages/shop/store/checkout"})};return(i,u)=>e.e({a:!s.value.length},s.value.length?{d:e.f(s.value,((t,i,s)=>e.e({a:t.selected?1:"",b:e.o((e=>(e=>{e.selected=!e.selected})(t)),t.id),c:t.image,d:e.t(t.name),e:t.spec},t.spec?{f:e.t(t.spec)}:{},{g:e.t(t.price),h:t.quantity<=1?1:"",i:e.o((e=>g(t,-1)),t.id),j:e.t(t.quantity),k:e.o((e=>g(t,1)),t.id),l:t.id})))}:{b:t._imports_0$4,c:e.o(d)},{e:a.value.length},a.value.length?{f:e.f(a.value,((t,i,s)=>({a:t.image,b:e.t(t.name),c:e.t(t.price),d:t.id,e:e.o((i=>(t=>{e.index.navigateTo({url:`/pages/shop/goods/detail?id=${t.id}`})})(t)),t.id)})))}:{},{g:c.value?1:"",h:e.o(n),i:e.t(p.value),j:m.value},m.value?{k:e.t(m.value)}:{},{l:m.value?"":1,m:e.o(l)})}};qq.createPage(i);
