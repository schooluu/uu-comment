"use strict";const e=require("../../../common/vendor.js");Math||a();const a=()=>"../../../components/dance/tab-bar.js",t={__name:"index",setup(a){const t=e.ref(0),n=e.ref(["https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120114522.png","https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120114522.png","https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241120114537.png"]),o=e.ref([{name:"门店",enName:"STORE",path:""},{name:"导师",enName:"PRIVATE",path:"/pages/dance/teacher/teacher"},{name:"视频",enName:"ACTIVITY",path:"/pages/dance/home/video"},{name:"新人",enName:"ACTIVITY",path:"/pages/dance/home/ad"}]),s=e.ref([{day:"Tue",date:"今天"},{day:"Wed",date:"20"},{day:"Thur",date:"21"},{day:"Fri",date:"22"},{day:"Sat",date:"23"},{day:"Sun",date:"24"},{day:"Mon",date:"25"},{day:"Week",date:"一周"}]),r=e.ref([{teacherName:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png",title:"JAZZ",level:3,count:"1",time:"2024.11.19 周二 18:00~19:00",location:"XXXX舞室大悦城店 上空",status:"book"},{teacherName:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png",title:"JAZZ 身体开发",level:1,count:"1",time:"2024.11.19 周二 18:00~19:00",location:"XXXX舞室大悦城店 B教室",status:"tight",remaining:2},{teacherName:"大圆",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"MV DANCE",level:2,count:"1",time:"2024.11.19 周二 18:20~19:20",location:"XXXX舞室大悦城店 A教室",status:"full"},{teacherName:"Lynn",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"JAZZ",level:3,count:"1",time:"2024.11.19 周二 19:10~20:10",location:"XXXX舞室大悦店 上空",status:"tight",remaining:8},{teacherName:"Wantina",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",title:"JAZZ 基础",level:1,count:"1",time:"2024.11.19 周二 19:10~20:10",location:"XXXX舞室大悦城店 B教室",status:"tight",remaining:2}]),i=e.ref([{name:"XXXX舞室大悦城店",address:"XXXXXXXXXXXXX",image:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png"},{name:"XXXX舞室嘉里合集店",address:"XXXXXXXX室",image:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/aa57670d0d25d0c6f02772495e6cd5d3.png"}]),l=e.ref([{id:1,name:"Joho",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Jazz"},{id:2,name:"FEI",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Hip-hop"},{id:3,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Urban"},{id:4,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Popping"},{id:5,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Swing"},{id:6,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Ballet"},{id:7,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Contemporary"},{id:8,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"K-pop"},{id:9,name:"XX",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Latin"},{id:10,name:"BADA",avatar:"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/rain.png",style:"Street"}]),u=e.ref(0),p=e.ref(0),g=e.ref(!1),c=e.ref(0),d=()=>{g.value=!0},m=e=>{!g.value&&e.detail.scrollLeft>0&&(g.value=!0)},v=e=>{u.value=e;const a=X(e);p.value=a},X=a=>{const t=140*a-((c.value||e.index.getSystemInfoSync().windowWidth)-140)/2;return Math.max(0,t)};e.onMounted((()=>{e.index.createSelectorQuery().select(".date-scroll").boundingClientRect((e=>{c.value=e.width})).exec()}));const h=()=>{e.index.navigateTo({url:"/pages/dance/teacher/teacher"})},b=()=>{e.index.navigateTo({url:"/pages/dance/home/venueList"})},y=e.computed((()=>{const e=getCurrentPages();return`/${e[e.length-1].route}`})),j=()=>{e.index.navigateTo({url:"/pages/dance/home/video",success:()=>{console.log("跳转成功")},fail:a=>{console.error("跳转失败:",a),e.index.showToast({title:"页面跳转失败",icon:"none"})}})},f=()=>{e.index.navigateTo({url:"/pages/dance/course/index",success:()=>{console.log("跳转成功")},fail:a=>{console.error("跳转失败:",a),e.index.showToast({title:"页面跳转失败",icon:"none"})}})};e.onMounted((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}),{threshold:.1}),a=document.querySelector(".teacher-grid");a&&e.observe(a)}));const T=e=>{t.value=e.detail.current};return(a,c)=>({a:e.f(n.value,((e,a,n)=>({a:e,b:t.value===a?1:"",c:a}))),b:e.o(T),c:e.f(n.value,((a,n,o)=>e.e({a:t.value===n},(t.value,{}),{b:n,c:t.value===n?1:"",d:e.o((e=>(e=>{t.value=e})(n)),n)}))),d:e.f(o.value,((a,t,n)=>({a:e.t(a.name),b:e.t(a.enName),c:t,d:e.o((t=>{var n;(n=a.path)&&e.index.navigateTo({url:n})}),t)}))),e:e.o(j),f:e.o(f),g:e.f(s.value,((a,t,n)=>({a:e.t(a.day),b:e.t(a.date),c:t,d:u.value===t?1:"",e:e.o((e=>(e=>{g.value=!0,v(e)})(t)),t)}))),h:g.value?1:"",i:p.value,j:e.o(m),k:e.o(d),l:e.f(r.value,((a,t,n)=>{return e.e({a:a.avatar,b:e.t(a.teacherName),c:e.t(a.title),d:e.t("⭐".repeat(a.level)),e:e.t(a.count),f:e.t(a.time),g:e.t(a.location),h:a.remaining},a.remaining?{i:e.t(a.remaining)}:{},{j:e.t((o=a.status,{book:"预约",full:"爆满",tight:"紧张"}[o]||o)),k:"book"===a.status?1:"",l:"full"===a.status?1:"",m:"tight"===a.status?1:"",n:e.o((t=>(a=>{"book"===a.status&&e.index.showToast({title:"预约成功",icon:"success"})})(a)),t),o:!a.isFavorite},(a.isFavorite,{}),{p:e.o((e=>(e=>{e.isFavorite=!e.isFavorite})(a)),t),q:t});var o})),m:e.o(b),n:e.f(i.value,((a,t,n)=>({a:a.image,b:e.t(a.name),c:e.t(a.address),d:e.o((t=>{return n=a.id,void e.index.navigateTo({url:`/pages/dance/home/venueDetail?id=${n}`});var n}),t),e:t}))),o:e.o(h),p:e.f(l.value,((t,n,o)=>({a:t.avatar,b:e.t(t.name),c:e.t(t.style),d:n,e:e.o((e=>a.goToTeacherDetail(t)),n),f:.05*n+"s"}))),q:e.p({current:y.value})})}};qq.createPage(t);
