{"version":3,"file":"filter-popup.js","sources":["components/dance/filter-popup.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovV09SS1BMQUNFL3V1LWNvbXBhbnkvY29tcG9uZW50cy9kYW5jZS9maWx0ZXItcG9wdXAudnVl"],"sourcesContent":["<template>\r\n    <view class=\"filter-popup\" v-if=\"show\">\r\n        <view class=\"popup-mask\" :class=\"{ closing: show }\" @tap=\"close\"></view>\r\n        <view class=\"popup-content\">\r\n            <!-- 顶部标签栏 -->\r\n            <view class=\"tab-bar\">\r\n                <view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\"\r\n                    :class=\"{ active: currentTab === index }\" @tap=\"switchTab(index)\">\r\n                    {{ tab }}\r\n                    <view class=\"indicator\" v-if=\"currentTab === index\"></view>\r\n                </view>\r\n            </view>\r\n\r\n            <!-- 选项列表 -->\r\n            <scroll-view class=\"options-list\" scroll-y>\r\n                <template v-if=\"currentTab === 1\"> <!-- 时段选项特殊处理 -->\r\n                    <view class=\"option-row\">\r\n                        <view class=\"option-item full-width\" :class=\"{ active: selectedOption === '全部' }\"\r\n                            @tap=\"selectOption('全部')\">\r\n                            全部\r\n                        </view>\r\n                    </view>\r\n\r\n                    <view class=\"option-grid\">\r\n                        <view v-for=\"(item, index) in timeList.slice(1)\" :key=\"index\" class=\"option-item\"\r\n                            :class=\"{ active: selectedOption === item.time }\" @tap=\"selectOption(item.time)\">\r\n                            {{ item.time }}\r\n                        </view>\r\n                    </view>\r\n                </template>\r\n\r\n                <template v-else-if=\"currentTab === 3\"> <!-- 导师选项特殊处理 -->\r\n                    <view class=\"teacher-section\">\r\n                        <view class=\"filter-content\">\r\n                            <!-- 左侧分类 -->\r\n                            <view class=\"city-categories\">\r\n                                <view class=\"category-item\" :class=\"{ active: selectedCategory === '明星导师' }\"\r\n                                    @tap=\"selectCategory('明星导师')\">\r\n                                    明星导师\r\n                                </view>\r\n                                <view v-for=\"(city, index) in cities\" :key=\"index\" class=\"category-item\"\r\n                                    :class=\"{ active: selectedCategory === `人气导师-${city}` }\"\r\n                                    @tap=\"selectCategory(`人气导师-${city}`)\">\r\n                                    人气导师 - {{ city }}\r\n                                </view>\r\n                                <view class=\"category-item\" :class=\"{ active: selectedCategory === '新晋导师' }\"\r\n                                    @tap=\"selectCategory('新晋导师')\">\r\n                                    新晋导师\r\n                                </view>\r\n                                <view class=\"category-item\" :class=\"{ active: selectedCategory === '零基础' }\"\r\n                                    @tap=\"selectCategory('零基础')\">\r\n                                    零基础\r\n                                </view>\r\n                                <view class=\"category-item\" :class=\"{ active: selectedCategory === '已收藏的导师' }\"\r\n                                    @tap=\"selectCategory('已收藏的导师')\">\r\n                                    已收藏的导师\r\n                                </view>\r\n                            </view>\r\n\r\n                            <!-- 右侧导师列表 -->\r\n                            <scroll-view class=\"teacher-list\" scroll-y>\r\n                                <view class=\"teacher-item\" v-for=\"(teacher, index) in currentTeachers\" :key=\"index\"\r\n                                    :class=\"{ active: selectedOption === teacher.name }\"\r\n                                    @tap=\"selectOption(teacher.name)\">\r\n                                    <image class=\"teacher-avatar\" :src=\"teacher.avatar\" mode=\"aspectFill\" />\r\n                                    <text class=\"teacher-name\">{{ teacher.name }}</text>\r\n                                </view>\r\n                            </scroll-view>\r\n                        </view>\r\n                    </view>\r\n                </template>\r\n\r\n                <template v-else>\r\n                    <!-- 其他标签的选项列表保持原样 -->\r\n                    <view class=\"option-row\">\r\n                        <view class=\"option-item full-width\" :class=\"{ active: selectedOption === '全部' }\"\r\n                            @tap=\"selectOption('全部')\">\r\n                            全部\r\n                        </view>\r\n                    </view>\r\n\r\n                    <view class=\"option-row\" v-if=\"currentTab === 0\">\r\n                        <view class=\"option-item full-width\" :class=\"{ active: selectedOption === '已收藏的门店' }\"\r\n                            @tap=\"selectOption('已收藏的门店')\">\r\n                            已收藏的门店\r\n                        </view>\r\n                    </view>\r\n\r\n                    <view class=\"option-grid\">\r\n                        <view class=\"option-item\" v-for=\"(item, index) in currentOptions\" :key=\"index\"\r\n                            :class=\"{ active: selectedOption === item }\" @tap=\"selectOption(item)\">\r\n                            {{ item }}\r\n                        </view>\r\n                    </view>\r\n                </template>\r\n            </scroll-view>\r\n\r\n            <!-- 底部按钮 -->\r\n            <view class=\"popup-footer\">\r\n                <view class=\"btn btn-clear\" @tap=\"clearSelection\">清空</view>\r\n                <view class=\"btn btn-confirm\" @tap=\"confirm\">确认</view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n    show: Boolean,\r\n    filterType: String\r\n})\r\n\r\nconst emit = defineEmits(['update:show', 'confirm'])\r\n\r\nconst tabs = ['门店', '1个时段', '风格', '导师']\r\nconst currentTab = ref(0)\r\nconst selectedOption = ref('全部')\r\nconst selectedCategory = ref('明星导师')\r\nconst selectedCity = ref('')\r\n\r\nconst storeList = [\r\n    'FancyFancy舞室金鹰店',\r\n    'FancyFancy舞室南京店',\r\n    'FancyFancy舞室博荟店',\r\n    'FancyFancy成都晶融汇店',\r\n    'FancyFancy舞室大悦城店',\r\n    'FancyFancy舞室梅奔店',\r\n    'FancyFancy舞室嘉里合集店',\r\n    'FancyFancy舞室华润店',\r\n    'FancyFancy舞室杭州中心店',\r\n    'FancyFancy舞室人广来福士店',\r\n    'FancyFancy舞室徐汇传媒港店',\r\n    'FancyFancy舞室长宁来福士店'\r\n]\r\n\r\nconst timeList = [\r\n    { time: '全部', value: 'all' },\r\n    { time: '08:00 ~ 10:00', value: '08-10' },\r\n    { time: '10:00 ~ 12:00', value: '10-12' },\r\n    { time: '12:00 ~ 14:00', value: '12-14' },\r\n    { time: '14:00 ~ 16:00', value: '14-16' },\r\n    { time: '16:00 ~ 18:00', value: '16-18' },\r\n    { time: '18:00 ~ 20:00', value: '18-20' },\r\n    { time: '20:00 ~ 22:00', value: '20-22' }\r\n]\r\n\r\nconst teacherList = {\r\n    '明星导师': [\r\n        { name: 'APHRODITE', avatar: '/static/teachers/aphrodite.jpg' },\r\n        { name: 'CHERRY', avatar: '/static/teachers/cherry.jpg' },\r\n        { name: 'DEVIN PORNEL', avatar: '/static/teachers/devin.jpg' },\r\n        { name: 'DOYUN', avatar: '/static/teachers/doyun.jpg' },\r\n        { name: 'JUNHO LEE', avatar: '/static/teachers/junho.jpg' },\r\n        { name: 'MAAIN', avatar: '/static/teachers/maain.jpg' },\r\n        { name: 'MARLEE HIGHTOWER', avatar: '/static/teachers/marlee.jpg' }\r\n    ],\r\n    // ... 其他分类的导师列表\r\n}\r\n\r\nconst cities = ['上海', '杭州', '南京', '成都']\r\n\r\n// 根据当前选中的标签显示不同的选项列表\r\nconst currentOptions = computed(() => {\r\n    switch (currentTab.value) {\r\n        case 0: // 门店\r\n            return storeList\r\n        case 1: // 时段\r\n            return timeList\r\n        case 2: // 风格\r\n            return styleList\r\n        case 3: // 导师\r\n            return teacherList\r\n        default:\r\n            return []\r\n    }\r\n})\r\n\r\nconst currentTeachers = computed(() => {\r\n    return teacherList[selectedCategory.value] || []\r\n})\r\n\r\nconst switchTab = (index) => {\r\n    currentTab.value = index\r\n}\r\n\r\nconst selectOption = (option) => {\r\n    selectedOption.value = option\r\n}\r\n\r\nconst clearSelection = () => {\r\n    selectedOption.value = '全部'\r\n}\r\n\r\nconst close = () => {\r\n    emit('update:show', false)\r\n}\r\n\r\nconst confirm = () => {\r\n    emit('confirm', {\r\n        type: tabs[currentTab.value],\r\n        value: selectedOption.value\r\n    })\r\n    close()\r\n}\r\n\r\nconst selectCategory = (category) => {\r\n    selectedCategory.value = category\r\n    selectedOption.value = '全部' // 重置选中的导师\r\n}\r\n\r\nconst selectCity = (city) => {\r\n    selectedCity.value = city\r\n}\r\n\r\n// 根据类型获取选项列表\r\nconst getOptionsByType = (type) => {\r\n    switch (type) {\r\n        case 'store':\r\n            return [\r\n                '全部',\r\n                '已收藏的门店',\r\n                'FancyFancy舞室金鹰店',\r\n                'FancyFancy舞室南京店',\r\n                // ... 其他门店\r\n            ]\r\n        case 'time':\r\n            return [\r\n                '全部时段',\r\n                '上午(10:00-12:00)',\r\n                '中午(12:00-14:00)',\r\n                '下午(14:00-18:00)',\r\n                '晚上(18:00-22:00)'\r\n            ]\r\n        case 'style':\r\n            return [\r\n                '全部风格',\r\n                'Jazz',\r\n                'Hip-hop',\r\n                'Urban',\r\n                'Contemporary',\r\n                'Kpop'\r\n            ]\r\n        case 'teacher':\r\n            return [\r\n                '全部导师',\r\n                '推荐导师',\r\n                '收藏导师'\r\n            ]\r\n        default:\r\n            return []\r\n    }\r\n}\r\n\r\n// 监听筛选类型变化\r\nwatch(() => props.filterType, (newType) => {\r\n    if (newType) {\r\n        currentOptions.value = getOptionsByType(newType)\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.filter-popup {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 999;\r\n\r\n    .popup-mask {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(0, 0, 0, 0.7);\r\n        animation: fadeIn 0.3s ease;\r\n    }\r\n\r\n    .popup-content {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        height: 85vh;\r\n        background: #141123f5;\r\n        border-radius: 32rpx 32rpx 0 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        animation: slideUp 0.3s ease;\r\n        box-shadow: 0 -4rpx 24rpx rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    .tab-bar {\r\n        display: flex;\r\n        padding: 30rpx 40rpx;\r\n        border-bottom: 1rpx solid rgba(255, 255, 255, 0.1);\r\n\r\n        .tab-item {\r\n            position: relative;\r\n            color: rgba(255, 255, 255, 0.6);\r\n            font-size: 32rpx;\r\n            margin-right: 60rpx;\r\n            padding-bottom: 16rpx;\r\n\r\n            &.active {\r\n                color: #fff;\r\n                font-weight: 500;\r\n\r\n                .indicator {\r\n                    position: absolute;\r\n                    bottom: 0;\r\n                    left: 50%;\r\n                    transform: translateX(-50%);\r\n                    width: 8rpx;\r\n                    height: 8rpx;\r\n                    background: #FF4D8F;\r\n                    border-radius: 50%;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .options-list {\r\n        flex: 1;\r\n        padding: 20rpx 30rpx;\r\n        box-sizing: border-box;\r\n\r\n        .option-row {\r\n            margin-bottom: 20rpx;\r\n\r\n            .option-item.full-width {\r\n                width: 100%;\r\n            }\r\n        }\r\n\r\n        .option-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(2, 1fr);\r\n            gap: 20rpx;\r\n            padding-bottom: 30rpx;\r\n        }\r\n\r\n        .option-item {\r\n            padding: 24rpx 20rpx;\r\n            background: rgba(255, 255, 255, 0.05);\r\n            border-radius: 100rpx;\r\n            color: rgba(255, 255, 255, 0.9);\r\n            font-size: 28rpx;\r\n            text-align: center;\r\n            transition: all 0.3s ease;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n\r\n            &:active {\r\n                transform: scale(0.95);\r\n            }\r\n\r\n            &.active {\r\n                background: #FF4D8F;\r\n                color: #fff;\r\n                box-shadow: 0 4rpx 12rpx rgba(255, 77, 143, 0.3);\r\n            }\r\n        }\r\n    }\r\n\r\n    .popup-footer {\r\n        padding: 30rpx;\r\n        display: flex;\r\n        gap: 20rpx;\r\n        width: 100vw;\r\n        bottom: 0px;\r\n        width: 100vw;\r\n        bottom: 0px;\r\n        position: absolute;\r\n\r\n        .btn {\r\n            flex: 1;\r\n            height: 88rpx;\r\n            line-height: 88rpx;\r\n            text-align: center;\r\n            border-radius: 44rpx;\r\n            font-size: 30rpx;\r\n\r\n            &.btn-clear {\r\n                background: rgba(255, 255, 255, 0.1);\r\n                color: #fff;\r\n            }\r\n\r\n            &.btn-confirm {\r\n                background: #FF4D8F;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@keyframes slideUp {\r\n    from {\r\n        transform: translateY(100%);\r\n    }\r\n\r\n    to {\r\n        transform: translateY(0);\r\n    }\r\n}\r\n\r\n@keyframes fadeIn {\r\n    from {\r\n        opacity: 0;\r\n    }\r\n\r\n    to {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.popup-content.closing {\r\n    animation: slideDown 0.3s ease forwards;\r\n}\r\n\r\n.popup-mask.closing {\r\n    animation: fadeOut 0.3s ease forwards;\r\n}\r\n\r\n@keyframes slideDown {\r\n    from {\r\n        transform: translateY(0);\r\n    }\r\n\r\n    to {\r\n        transform: translateY(100%);\r\n    }\r\n}\r\n\r\n@keyframes fadeOut {\r\n    from {\r\n        opacity: 1;\r\n    }\r\n\r\n    to {\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n// 优化滚动条样式\r\n::-webkit-scrollbar {\r\n    width: 8rpx;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n    background: transparent;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    background: rgba(255, 255, 255, 0.1);\r\n    border-radius: 4rpx;\r\n}\r\n\r\n.teacher-section {\r\n    height: 100%;\r\n\r\n    .filter-content {\r\n        display: flex;\r\n        height: 100%;\r\n\r\n        .city-categories {\r\n            width: 240rpx;\r\n            background: rgba(255, 255, 255, 0.02);\r\n            border-right: 2rpx solid rgba(255, 255, 255, 0.05);\r\n\r\n            .category-item {\r\n                padding: 32rpx 30rpx;\r\n                color: rgba(255, 255, 255, 0.6);\r\n                font-size: 28rpx;\r\n                transition: all 0.3s ease;\r\n                position: relative;\r\n\r\n                &.active {\r\n                    color: #fff;\r\n                    background: rgba(255, 77, 143, 0.1);\r\n                    font-weight: 500;\r\n\r\n                    &::after {\r\n                        content: '';\r\n                        position: absolute;\r\n                        left: 0;\r\n                        top: 50%;\r\n                        transform: translateY(-50%);\r\n                        width: 6rpx;\r\n                        height: 32rpx;\r\n                        background: #FF4D8F;\r\n                        border-radius: 0 4rpx 4rpx 0;\r\n                    }\r\n                }\r\n\r\n                &:active {\r\n                    opacity: 0.8;\r\n                }\r\n            }\r\n        }\r\n\r\n        .teacher-list {\r\n            flex: 1;\r\n            padding: 20rpx;\r\n\r\n            .teacher-item {\r\n                display: flex;\r\n                align-items: center;\r\n                padding: 24rpx;\r\n                margin-bottom: 20rpx;\r\n                background: rgba(255, 255, 255, 0.05);\r\n                border-radius: 16rpx;\r\n                transition: all 0.3s ease;\r\n\r\n                &.active {\r\n                    background: #FF4D8F;\r\n                }\r\n\r\n                &:active {\r\n                    transform: scale(0.98);\r\n                    opacity: 0.9;\r\n                }\r\n\r\n                .teacher-avatar {\r\n                    width: 88rpx;\r\n                    height: 88rpx;\r\n                    border-radius: 50%;\r\n                    margin-right: 24rpx;\r\n                    border: 2rpx solid rgba(255, 255, 255, 0.1);\r\n                }\r\n\r\n                .teacher-name {\r\n                    color: #fff;\r\n                    font-size: 28rpx;\r\n                    font-weight: 500;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import Component from 'D:/WORKPLACE/uu-company/components/dance/filter-popup.vue'\nwx.createComponent(Component)"],"names":["ref","computed","watch"],"mappings":"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"}