{"version":3,"file":"index.js","sources":["pages/city/settings/index.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2l0eS9zZXR0aW5ncy9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"settings-container\">\r\n    <!-- 顶部导航 -->\r\n    <view class=\"header\">\r\n      <text class=\"title\">设置</text>\r\n    </view>\r\n    \r\n    <!-- 设置列表 -->\r\n    <view class=\"settings-list\">\r\n      <!-- 账号设置 -->\r\n      <view class=\"settings-group\">\r\n        <view class=\"group-title\">账号设置</view>\r\n        <view class=\"settings-item\" @tap=\"navigateTo('/pages/city/settings/profile')\">\r\n          <text class=\"item-label\">个人资料</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"item-value\">{{ userInfo.name }}</text>\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\" @tap=\"navigateTo('/pages/city/settings/security')\">\r\n          <text class=\"item-label\">账号安全</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"item-value\">已设置</text>\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\" @tap=\"navigateTo('/pages/city/settings/privacy')\">\r\n          <text class=\"item-label\">隐私设置</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 消息通知 -->\r\n      <view class=\"settings-group\">\r\n        <view class=\"group-title\">消息通知</view>\r\n        <view class=\"settings-item\">\r\n          <text class=\"item-label\">新消息通知</text>\r\n          <switch :checked=\"settings.newMessageNotify\" @change=\"toggleSetting('newMessageNotify')\" color=\"#07c160\"/>\r\n        </view>\r\n        <view class=\"settings-item\">\r\n          <text class=\"item-label\">声音提醒</text>\r\n          <switch :checked=\"settings.soundNotify\" @change=\"toggleSetting('soundNotify')\" color=\"#07c160\"/>\r\n        </view>\r\n        <view class=\"settings-item\">\r\n          <text class=\"item-label\">振动提醒</text>\r\n          <switch :checked=\"settings.vibrateNotify\" @change=\"toggleSetting('vibrateNotify')\" color=\"#07c160\"/>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 通用设置 -->\r\n      <view class=\"settings-group\">\r\n        <view class=\"group-title\">通用设置</view>\r\n        <view class=\"settings-item\" @tap=\"clearCache\">\r\n          <text class=\"item-label\">清除缓存</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"item-value\">{{ cacheSize }}</text>\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\">\r\n          <text class=\"item-label\">字体大小</text>\r\n          <view class=\"item-right\">\r\n            <picker \r\n              mode=\"selector\" \r\n              :range=\"fontSizes\" \r\n              @change=\"handleFontSizeChange\"\r\n              :value=\"fontSizeIndex\"\r\n            >\r\n              <text class=\"picker-text\">{{ fontSizes[fontSizeIndex] }}</text>\r\n            </picker>\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\">\r\n          <text class=\"item-label\">深色模式</text>\r\n          <switch :checked=\"settings.darkMode\" @change=\"toggleSetting('darkMode')\" color=\"#07c160\"/>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 关于 -->\r\n      <view class=\"settings-group\">\r\n        <view class=\"group-title\">关于</view>\r\n        <view class=\"settings-item\" @tap=\"navigateTo('/pages/city/about/index')\">\r\n          <text class=\"item-label\">关于我们</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\" @tap=\"checkUpdate\">\r\n          <text class=\"item-label\">检查更新</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"item-value\">当前版本 {{ version }}</text>\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n        <view class=\"settings-item\" @tap=\"navigateTo('/pages/city/help/index')\">\r\n          <text class=\"item-label\">帮助与反馈</text>\r\n          <view class=\"item-right\">\r\n            <text class=\"arrow\">></text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 退出登录按钮 -->\r\n    <view class=\"logout-section\">\r\n      <button class=\"logout-btn\" @tap=\"handleLogout\">退出登录</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst userInfo = ref({\r\n  name: '张三',\r\n  phone: '138****8888'\r\n})\r\n\r\nconst settings = ref({\r\n  newMessageNotify: true,\r\n  soundNotify: true,\r\n  vibrateNotify: false,\r\n  darkMode: false\r\n})\r\n\r\nconst version = ref('1.0.0')\r\nconst cacheSize = ref('23.5MB')\r\nconst fontSizes = ['小', '标准', '大', '特大']\r\nconst fontSizeIndex = ref(1)\r\n\r\n// 切换设置开关\r\nconst toggleSetting = (key) => {\r\n  settings.value[key] = !settings.value[key]\r\n  // 保存设置\r\n  uni.setStorageSync('settings', settings.value)\r\n}\r\n\r\n// 页面跳转\r\nconst navigateTo = (url) => {\r\n  uni.navigateTo({ url })\r\n}\r\n\r\n// 清除缓存\r\nconst clearCache = () => {\r\n  uni.showModal({\r\n    title: '提示',\r\n    content: '确定要清除缓存吗？',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        uni.showLoading({\r\n          title: '清理中...'\r\n        })\r\n        \r\n        setTimeout(() => {\r\n          uni.hideLoading()\r\n          cacheSize.value = '0B'\r\n          uni.showToast({\r\n            title: '清理完成',\r\n            icon: 'success'\r\n          })\r\n        }, 1500)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 检查更新\r\nconst checkUpdate = () => {\r\n  uni.showLoading({\r\n    title: '检查中...'\r\n  })\r\n  \r\n  setTimeout(() => {\r\n    uni.hideLoading()\r\n    uni.showToast({\r\n      title: '已是最新版本',\r\n      icon: 'success'\r\n    })\r\n  }, 1500)\r\n}\r\n\r\n// 字体大小改变\r\nconst handleFontSizeChange = (e) => {\r\n  fontSizeIndex.value = e.detail.value\r\n  // 保存字体大小设置\r\n  uni.setStorageSync('fontSize', fontSizeIndex.value)\r\n}\r\n\r\n// 退出登录\r\nconst handleLogout = () => {\r\n  uni.showModal({\r\n    title: '提示',\r\n    content: '确定要退出登录吗？',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        // 清除登录状态\r\n        uni.clearStorageSync()\r\n        // 跳转到登录页\r\n        uni.reLaunch({\r\n          url: '/pages/login/index'\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-container {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n  padding-bottom: 40rpx;\r\n  \r\n  .header {\r\n    height: 88rpx;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 30rpx;\r\n    box-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\r\n    \r\n    .title {\r\n      font-size: 32rpx;\r\n      font-weight: 500;\r\n      color: #333;\r\n    }\r\n  }\r\n  \r\n  .settings-list {\r\n    margin-top: 20rpx;\r\n    \r\n    .settings-group {\r\n      margin-bottom: 20rpx;\r\n      background: #fff;\r\n      \r\n      .group-title {\r\n        padding: 20rpx 30rpx;\r\n        font-size: 28rpx;\r\n        color: #999;\r\n      }\r\n      \r\n      .settings-item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 30rpx;\r\n        background: #fff;\r\n        border-bottom: 1rpx solid #f5f5f5;\r\n        \r\n        .item-label {\r\n          font-size: 30rpx;\r\n          color: #333;\r\n        }\r\n        \r\n        .item-right {\r\n          display: flex;\r\n          align-items: center;\r\n          \r\n          .item-value {\r\n            font-size: 28rpx;\r\n            color: #999;\r\n            margin-right: 10rpx;\r\n          }\r\n          \r\n          .picker-text {\r\n            font-size: 28rpx;\r\n            color: #999;\r\n          }\r\n          \r\n          .arrow {\r\n            font-size: 28rpx;\r\n            color: #999;\r\n            margin-left: 10rpx;\r\n          }\r\n        }\r\n        \r\n        &:active {\r\n          background: #f9f9f9;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .logout-section {\r\n    margin: 60rpx 30rpx;\r\n    \r\n    .logout-btn {\r\n      width: 100%;\r\n      height: 88rpx;\r\n      background: #fff;\r\n      color: #ff5a5f;\r\n      font-size: 32rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 44rpx;\r\n      \r\n      &:active {\r\n        opacity: 0.8;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/city/settings/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;AAoHA,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,MAAM;AAAA,MACN,OAAO;AAAA,IACT,CAAC;AAED,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,kBAAkB;AAAA,MAClB,aAAa;AAAA,MACb,eAAe;AAAA,MACf,UAAU;AAAA,IACZ,CAAC;AAED,UAAM,UAAUA,cAAG,IAAC,OAAO;AAC3B,UAAM,YAAYA,cAAG,IAAC,QAAQ;AAC9B,UAAM,YAAY,CAAC,KAAK,MAAM,KAAK,IAAI;AACvC,UAAM,gBAAgBA,cAAG,IAAC,CAAC;AAG3B,UAAM,gBAAgB,CAAC,QAAQ;AAC7B,eAAS,MAAM,GAAG,IAAI,CAAC,SAAS,MAAM,GAAG;AAEzCC,oBAAAA,MAAI,eAAe,YAAY,SAAS,KAAK;AAAA,IAC/C;AAGA,UAAM,aAAa,CAAC,QAAQ;AAC1BA,0BAAI,WAAW,EAAE,KAAK;AAAA,IACxB;AAGA,UAAM,aAAa,MAAM;AACvBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACfA,0BAAAA,MAAI,YAAY;AAAA,cACd,OAAO;AAAA,YACjB,CAAS;AAED,uBAAW,MAAM;AACfA,4BAAAA,MAAI,YAAa;AACjB,wBAAU,QAAQ;AAClBA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cAClB,CAAW;AAAA,YACF,GAAE,IAAI;AAAA,UACR;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAGA,UAAM,cAAc,MAAM;AACxBA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,MACX,CAAG;AAED,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAa;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAAA,MACF,GAAE,IAAI;AAAA,IACT;AAGA,UAAM,uBAAuB,CAAC,MAAM;AAClC,oBAAc,QAAQ,EAAE,OAAO;AAE/BA,oBAAAA,MAAI,eAAe,YAAY,cAAc,KAAK;AAAA,IACpD;AAGA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAEfA,0BAAAA,MAAI,iBAAkB;AAEtBA,0BAAAA,MAAI,SAAS;AAAA,cACX,KAAK;AAAA,YACf,CAAS;AAAA,UACF;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9MA,GAAG,WAAW,eAAe;"}