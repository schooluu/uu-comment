{"version":3,"file":"detail.js","sources":["pages/shop/store/detail.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC9zdG9yZS9kZXRhaWwudnVl"],"sourcesContent":["<template>\r\n  <view class=\"store-detail\">\r\n    <!-- 门店图片轮播 -->\r\n    <swiper \r\n      class=\"store-swiper\" \r\n      :indicator-dots=\"true\"\r\n      :autoplay=\"true\"\r\n      interval=\"5000\"\r\n      circular\r\n    >\r\n      <swiper-item v-for=\"(image, index) in storeInfo.images\" :key=\"index\">\r\n        <image :src=\"image\" mode=\"aspectFill\" class=\"swiper-image\"/>\r\n      </swiper-item>\r\n    </swiper>\r\n    \r\n    <!-- 门店基本信息 -->\r\n    <view class=\"store-info glass-effect\">\r\n      <view class=\"store-header\">\r\n        <view class=\"left\">\r\n          <text class=\"store-name\">{{ storeInfo.name }}</text>\r\n          <view class=\"rating\">\r\n            <text class=\"stars\">⭐️⭐️⭐️⭐️⭐️</text>\r\n            <text class=\"score\">{{ storeInfo.rating }}</text>\r\n            <text class=\"reviews\">({{ storeInfo.reviewCount }}条评价)</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"status-tag\" :class=\"storeInfo.status\">\r\n          {{ storeInfo.statusText }}\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"info-row\" @tap=\"navigate\">\r\n        <text class=\"label\">门店地址</text>\r\n        <view class=\"value address\">\r\n          <text>{{ storeInfo.address }}</text>\r\n          <text class=\"distance\">{{ storeInfo.distance }}km</text>\r\n          <text class=\"nav-icon\">📍</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"info-row\">\r\n        <text class=\"label\">营业时间</text>\r\n        <text class=\"value\">{{ storeInfo.businessHours }}</text>\r\n      </view>\r\n      \r\n      <view class=\"info-row\">\r\n        <text class=\"label\">联系电话</text>\r\n        <text class=\"value phone\" @tap=\"makeCall\">{{ storeInfo.phone }}</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 门店特色 -->\r\n    <view class=\"features glass-effect\">\r\n      <view class=\"section-title\">门店特色</view>\r\n      <view class=\"feature-grid\">\r\n        <view \r\n          class=\"feature-item\"\r\n          v-for=\"feature in storeInfo.features\"\r\n          :key=\"feature.name\"\r\n        >\r\n          <text class=\"feature-icon\">{{ feature.icon }}</text>\r\n          <text class=\"feature-name\">{{ feature.name }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 门店公告 -->\r\n    <view class=\"notice glass-effect\" v-if=\"storeInfo.notice\">\r\n      <view class=\"section-title\">门店公告</view>\r\n      <text class=\"notice-content\">{{ storeInfo.notice }}</text>\r\n    </view>\r\n    \r\n    <!-- 热门商品 -->\r\n    <view class=\"hot-products glass-effect\">\r\n      <view class=\"section-title\">热门商品</view>\r\n      <scroll-view \r\n        class=\"products-scroll\" \r\n        scroll-x \r\n        :show-scrollbar=\"false\"\r\n        enhanced\r\n      >\r\n        <view class=\"product-list\">\r\n          <view \r\n            class=\"product-card\"\r\n            v-for=\"product in storeInfo.hotProducts\"\r\n            :key=\"product.id\"\r\n            @tap=\"goToProduct(product)\"\r\n          >\r\n            <image :src=\"product.image\" mode=\"aspectFill\" class=\"product-image\"/>\r\n            <text class=\"product-name\">{{ product.name }}</text>\r\n            <text class=\"product-price\">¥{{ product.price }}</text>\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n    \r\n    <!-- 用户评价 -->\r\n    <view class=\"reviews glass-effect\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">用户评价</text>\r\n        <text class=\"view-all\" @tap=\"viewAllReviews\">查看全部 →</text>\r\n      </view>\r\n      <view \r\n        class=\"review-item\"\r\n        v-for=\"review in storeInfo.reviews\"\r\n        :key=\"review.id\"\r\n      >\r\n        <view class=\"reviewer-info\">\r\n          <image :src=\"review.avatar\" class=\"avatar\"/>\r\n          <text class=\"name\">{{ review.name }}</text>\r\n          <text class=\"time\">{{ review.time }}</text>\r\n        </view>\r\n        <view class=\"review-rating\">\r\n          <text class=\"stars\">{{ '⭐️'.repeat(review.rating) }}</text>\r\n          <text class=\"rating-text\">{{ review.ratingText }}</text>\r\n        </view>\r\n        <text class=\"review-content\">{{ review.content }}</text>\r\n        <view class=\"review-images\" v-if=\"review.images?.length\">\r\n          <image \r\n            v-for=\"(image, index) in review.images\"\r\n            :key=\"index\"\r\n            :src=\"image\"\r\n            mode=\"aspectFill\"\r\n            class=\"review-image\"\r\n            @tap=\"previewImage(review.images, index)\"\r\n          />\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 底部操作栏 -->\r\n    <view class=\"action-bar glass-effect\">\r\n      <button class=\"share-btn\" @tap=\"shareStore\">\r\n        <text class=\"icon\">📤</text>\r\n        <text>分享</text>\r\n      </button>\r\n      <button class=\"primary-btn\" @tap=\"placeOrder\">\r\n        {{ storeInfo.status === 'closed' ? '已打烊' : '去下单' }}\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\n\r\n// 门店详情数据\r\nconst storeInfo = ref({\r\n  id: 1,\r\n  name: '喜茶北京三里屯店',\r\n  images: [\r\n    'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n    'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n    'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg'\r\n  ],\r\n  rating: 4.8,\r\n  reviewCount: 2580,\r\n  status: 'open',\r\n  statusText: '营业中',\r\n  address: '北京市朝阳区三里屯太古里北区N8-B1-3',\r\n  distance: 0.8,\r\n  businessHours: '10:00-22:00',\r\n  phone: '010-12345678',\r\n  features: [\r\n    { icon: '🚗', name: '停车场' },\r\n    { icon: '🔋', name: '充电宝' },\r\n    { icon: '📶', name: 'WIFI' },\r\n    { icon: '🎫', name: '礼品卡' },\r\n    { icon: '🧊', name: '店内取餐' },\r\n    { icon: '🛵', name: '外卖配送' }\r\n  ],\r\n  notice: '本店新推出夏日特饮系列，欢迎品尝！',\r\n  hotProducts: [\r\n    {\r\n      id: 1,\r\n      name: '多肉葡萄',\r\n      price: '32',\r\n      image: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg'\r\n    },\r\n    // ... 更多商品\r\n  ],\r\n  reviews: [\r\n    {\r\n      id: 1,\r\n      avatar: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n      name: '张三',\r\n      time: '2024-01-20',\r\n      rating: 5,\r\n      ratingText: '非常满意',\r\n      content: '店员服务很好，饮品口感一如既往的赞！',\r\n      images: [\r\n        'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n        'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg'\r\n      ]\r\n    },\r\n    // ... 更多评价\r\n  ],\r\n  latitude: 39.934,\r\n  longitude: 116.455\r\n})\r\n\r\n// 导航到店\r\nconst navigate = () => {\r\n  uni.openLocation({\r\n    latitude: storeInfo.value.latitude,\r\n    longitude: storeInfo.value.longitude,\r\n    name: storeInfo.value.name,\r\n    address: storeInfo.value.address\r\n  })\r\n}\r\n\r\n// 拨打电话\r\nconst makeCall = () => {\r\n  uni.makePhoneCall({\r\n    phoneNumber: storeInfo.value.phone\r\n  })\r\n}\r\n\r\n// 查看商品详情\r\nconst goToProduct = (product) => {\r\n  uni.navigateTo({\r\n    url: `/pages/shop/product/detail?id=${product.id}`\r\n  })\r\n}\r\n\r\n// 查看所有评价\r\nconst viewAllReviews = () => {\r\n  uni.navigateTo({\r\n    url: `/pages/shop/store/reviews?id=${storeInfo.value.id}`\r\n  })\r\n}\r\n\r\n// 预览图片\r\nconst previewImage = (images, current) => {\r\n  uni.previewImage({\r\n    urls: images,\r\n    current: images[current]\r\n  })\r\n}\r\n\r\n// 分享门店\r\nconst shareStore = () => {\r\n  uni.share({\r\n    provider: 'weixin',\r\n    scene: 'WXSceneSession',\r\n    type: 0,\r\n    title: storeInfo.value.name,\r\n    summary: `欢迎光临${storeInfo.value.name}`,\r\n    imageUrl: storeInfo.value.images[0],\r\n    success: function (res) {\r\n      console.log('分享成功：', res)\r\n    }\r\n  })\r\n}\r\n\r\n// 去下单\r\nconst placeOrder = () => {\r\n  if (storeInfo.value.status === 'closed') return\r\n  uni.navigateTo({\r\n    url: `/pages/shop/order/create?storeId=${storeInfo.value.id}`\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  // TODO: 根据路由参数获取门店详情\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// Mixins\r\n@mixin text-ellipsis {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n@mixin glass-effect {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20rpx;\r\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.store-detail {\r\n  min-height: 100vh;\r\n  background: #f8f9fa;\r\n  padding-bottom: 120rpx;\r\n  \r\n  .store-swiper {\r\n    height: 500rpx;\r\n    \r\n    .swiper-image {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  \r\n  .glass-effect {\r\n    @include glass-effect;\r\n    padding: 30rpx;\r\n    margin: 20rpx;\r\n  }\r\n  \r\n  .store-info {\r\n    margin-top: -60rpx;\r\n    position: relative;\r\n    z-index: 1;\r\n    \r\n    .store-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      margin-bottom: 30rpx;\r\n      \r\n      .store-name {\r\n        font-size: 36rpx;\r\n        font-weight: 600;\r\n        margin-bottom: 12rpx;\r\n      }\r\n      \r\n      .rating {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8rpx;\r\n        \r\n        .stars {\r\n          font-size: 24rpx;\r\n        }\r\n        \r\n        .score {\r\n          font-size: 24rpx;\r\n          color: #ff9800;\r\n        }\r\n        \r\n        .reviews {\r\n          font-size: 24rpx;\r\n          color: #999;\r\n        }\r\n      }\r\n      \r\n      .status-tag {\r\n        padding: 8rpx 20rpx;\r\n        border-radius: 100rpx;\r\n        font-size: 24rpx;\r\n        \r\n        &.open {\r\n          background: #e8f5e9;\r\n          color: #4caf50;\r\n        }\r\n        \r\n        &.busy {\r\n          background: #fff3e0;\r\n          color: #ff9800;\r\n        }\r\n        \r\n        &.closed {\r\n          background: #f5f5f5;\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .info-row {\r\n      display: flex;\r\n      margin-bottom: 20rpx;\r\n      \r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n      \r\n      .label {\r\n        width: 140rpx;\r\n        font-size: 28rpx;\r\n        color: #666;\r\n      }\r\n      \r\n      .value {\r\n        flex: 1;\r\n        font-size: 28rpx;\r\n        \r\n        &.address {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12rpx;\r\n          \r\n          .distance {\r\n            color: #999;\r\n          }\r\n          \r\n          .nav-icon {\r\n            font-size: 32rpx;\r\n          }\r\n        }\r\n        \r\n        &.phone {\r\n          color: var(--theme-color, #e4393c);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .features {\r\n    .feature-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(4, 1fr);\r\n      gap: 30rpx;\r\n      \r\n      .feature-item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        \r\n        .feature-icon {\r\n          font-size: 48rpx;\r\n          margin-bottom: 12rpx;\r\n        }\r\n        \r\n        .feature-name {\r\n          font-size: 26rpx;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .section-title {\r\n    font-size: 32rpx;\r\n    font-weight: 500;\r\n    margin-bottom: 24rpx;\r\n  }\r\n  \r\n  .notice {\r\n    .notice-content {\r\n      font-size: 28rpx;\r\n      color: #666;\r\n      line-height: 1.6;\r\n    }\r\n  }\r\n  \r\n  .hot-products {\r\n    .products-scroll {\r\n      .product-list {\r\n        display: flex;\r\n        padding: 10rpx 0;\r\n        \r\n        .product-card {\r\n          margin-right: 24rpx;\r\n          width: 240rpx;\r\n          \r\n          &:last-child {\r\n            margin-right: 0;\r\n          }\r\n          \r\n          .product-image {\r\n            width: 240rpx;\r\n            height: 240rpx;\r\n            border-radius: 12rpx;\r\n            margin-bottom: 16rpx;\r\n          }\r\n          \r\n          .product-name {\r\n            font-size: 28rpx;\r\n            margin-bottom: 8rpx;\r\n            @include text-ellipsis;\r\n          }\r\n          \r\n          .product-price {\r\n            font-size: 32rpx;\r\n            color: var(--theme-color, #e4393c);\r\n            font-weight: 500;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .reviews {\r\n    .section-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 24rpx;\r\n      \r\n      .view-all {\r\n        font-size: 26rpx;\r\n        color: #666;\r\n      }\r\n    }\r\n    \r\n    .review-item {\r\n      padding: 24rpx 0;\r\n      border-bottom: 1rpx solid rgba(0,0,0,0.05);\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n        padding-bottom: 0;\r\n      }\r\n      \r\n      .reviewer-info {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 16rpx;\r\n        \r\n        .avatar {\r\n          width: 64rpx;\r\n          height: 64rpx;\r\n          border-radius: 50%;\r\n          margin-right: 16rpx;\r\n        }\r\n        \r\n        .name {\r\n          font-size: 28rpx;\r\n          margin-right: 16rpx;\r\n        }\r\n        \r\n        .time {\r\n          font-size: 24rpx;\r\n          color: #999;\r\n        }\r\n      }\r\n      \r\n      .review-rating {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 12rpx;\r\n        margin-bottom: 16rpx;\r\n        \r\n        .stars {\r\n          font-size: 24rpx;\r\n        }\r\n        \r\n        .rating-text {\r\n          font-size: 24rpx;\r\n          color: #ff9800;\r\n        }\r\n      }\r\n      \r\n      .review-content {\r\n        font-size: 28rpx;\r\n        color: #333;\r\n        line-height: 1.6;\r\n        margin-bottom: 16rpx;\r\n      }\r\n      \r\n      .review-images {\r\n        display: flex;\r\n        gap: 12rpx;\r\n        \r\n        .review-image {\r\n          width: 160rpx;\r\n          height: 160rpx;\r\n          border-radius: 8rpx;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .action-bar {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 30rpx;\r\n    \r\n    .share-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8rpx;\r\n      padding: 16rpx 30rpx;\r\n      background: #f5f5f5;\r\n      border-radius: 100rpx;\r\n      font-size: 28rpx;\r\n      color: #666;\r\n      \r\n      .icon {\r\n        font-size: 32rpx;\r\n      }\r\n    }\r\n    \r\n    .primary-btn {\r\n      width: 400rpx;\r\n      height: 80rpx;\r\n      line-height: 80rpx;\r\n      text-align: center;\r\n      background: var(--theme-color, #e4393c);\r\n      color: #fff;\r\n      border-radius: 40rpx;\r\n      font-size: 30rpx;\r\n      \r\n      &:disabled {\r\n        opacity: 0.6;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/shop/store/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","MiniProgramPage"],"mappings":"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"}