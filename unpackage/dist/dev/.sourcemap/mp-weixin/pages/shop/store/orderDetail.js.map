{"version":3,"file":"orderDetail.js","sources":["pages/shop/store/orderDetail.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC9zdG9yZS9vcmRlckRldGFpbC52dWU"],"sourcesContent":["<template>\r\n    <view class=\"order-detail\">\r\n      <!-- 订单状态 -->\r\n      <view class=\"status-card\">\r\n        <view class=\"status-header\">\r\n          <text class=\"status-text\">{{ orderStatus.text }}</text>\r\n          <text class=\"status-desc\">{{ orderStatus.desc }}</text>\r\n        </view>\r\n        <view class=\"pickup-info\">\r\n          <view class=\"qrcode-wrap\" @tap=\"showQrcode\">\r\n            <image class=\"qrcode\" :src=\"order.qrcode\" mode=\"aspectFit\"/>\r\n            <text class=\"qrcode-tip\">点击查看取餐码</text>\r\n          </view>\r\n          <view class=\"pickup-detail\">\r\n            <text class=\"pickup-code\">取餐码：{{ order.pickupCode }}</text>\r\n            <text class=\"pickup-time\">取餐时间：{{ order.pickupTime }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 门店信息 -->\r\n      <view class=\"store-card\">\r\n        <view class=\"store-info\">\r\n          <image class=\"store-logo\" :src=\"order.store.logo\" mode=\"aspectFill\"/>\r\n          <view class=\"store-detail\">\r\n            <text class=\"store-name\">{{ order.store.name }}</text>\r\n            <text class=\"store-address\">{{ order.store.address }}</text>\r\n          </view>\r\n        </view>\r\n        <button \r\n          class=\"contact-btn\" \r\n          @tap=\"contactStore\"\r\n          hover-class=\"contact-btn-hover\"\r\n        >\r\n          <text class=\"icon iconfont icon-phone\"></text>\r\n          <text class=\"btn-text\">联系门店</text>\r\n        </button>\r\n      </view>\r\n  \r\n      <!-- 订单信息 -->\r\n      <view class=\"order-card\">\r\n        <view class=\"card-title\">订单详情</view>\r\n        <view class=\"goods-list\">\r\n          <view \r\n            class=\"goods-item\"\r\n            v-for=\"item in order.goods\"\r\n            :key=\"item.id\"\r\n          >\r\n            <image :src=\"item.image\" class=\"goods-image\" mode=\"aspectFill\"/>\r\n            <view class=\"goods-info\">\r\n              <text class=\"goods-name\">{{ item.name }}</text>\r\n              <text class=\"goods-desc\" v-if=\"item.description\">{{ item.description }}</text>\r\n              <view class=\"price-wrap\">\r\n                <text class=\"price\">¥{{ item.price }}</text>\r\n                <text class=\"count\">x{{ item.count }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"order-total\">\r\n          <text>共{{ totalCount }}件商品，实付</text>\r\n          <text class=\"total-price\">¥{{ order.totalAmount }}</text>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 订单信息 -->\r\n      <view class=\"info-card\">\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">订单编号</text>\r\n          <text class=\"value\">{{ order.orderNo }}</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">下单时间</text>\r\n          <text class=\"value\">{{ order.createTime }}</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">取餐人</text>\r\n          <text class=\"value\">{{ order.customerName }}</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">手机号</text>\r\n          <text class=\"value\">{{ order.customerPhone }}</text>\r\n        </view>\r\n        <view class=\"info-item\" v-if=\"order.remark\">\r\n          <text class=\"label\">备注</text>\r\n          <text class=\"value\">{{ order.remark }}</text>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 底部按钮 -->\r\n      <view class=\"bottom-bar\">\r\n        <button class=\"action-btn outline\" @tap=\"goHome\">返回首页</button>\r\n        <button class=\"action-btn primary\" @tap=\"goToStore\">继续点餐</button>\r\n      </view>\r\n    </view>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, computed } from 'vue'\r\n  \r\n  // 模拟订单数据\r\n  const order = ref({\r\n    id: '123',\r\n    orderNo: 'DD20240101123456',\r\n    status: 'waiting',\r\n    pickupCode: 'A123',\r\n    pickupTime: '2024-01-01 12:30',\r\n    createTime: '2024-01-01 12:00',\r\n    customerName: '张三',\r\n    customerPhone: '138****8000',\r\n    remark: '不要太甜',\r\n    totalAmount: 52,\r\n    store: {\r\n      id: 1,\r\n      logo: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n      name: '奶茶店大学城店',\r\n      address: '大学城环街1号楼108号',\r\n      phone: '020-88888888'\r\n    },\r\n    goods: [\r\n      {\r\n        id: 1,\r\n        name: '珍珠奶茶',\r\n        price: 12,\r\n        count: 2,\r\n        image: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n        description: '珍珠 + 奶茶'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: '芋圆奶茶',\r\n        price: 15,\r\n        count: 1,\r\n        image: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n        description: '芋圆 + 奶茶'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: '椰果奶茶',\r\n        price: 13,\r\n        count: 1,\r\n        image: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n        description: '椰果 + 奶茶'\r\n      }\r\n    ],\r\n    qrcode: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n  })\r\n  \r\n  // 订单状态\r\n  const orderStatus = computed(() => {\r\n    const statusMap = {\r\n      waiting: {\r\n        text: '等待取餐',\r\n        desc: '请按时到店取餐，超时订单可能会被取消'\r\n      },\r\n      finished: {\r\n        text: '已完成',\r\n        desc: '订单已完成，欢迎再次光临'\r\n      },\r\n      cancelled: {\r\n        text: '已取消',\r\n        desc: '订单已取消'\r\n      }\r\n    }\r\n    return statusMap[order.value.status]\r\n  })\r\n  \r\n  // 计算总数量\r\n  const totalCount = computed(() => {\r\n    return order.value.goods.reduce((sum, item) => sum + item.count, 0)\r\n  })\r\n  \r\n  // 联系门店\r\n  const contactStore = () => {\r\n    uni.makePhoneCall({\r\n      phoneNumber: order.value.store.phone\r\n    })\r\n  }\r\n  \r\n  // 返回首页\r\n  const goHome = () => {\r\n    uni.navigateTo({\r\n      url: '/pages/shop/home/index'\r\n    })\r\n  }\r\n  \r\n  // 继续点餐\r\n  const goToStore = () => {\r\n    uni.redirectTo({\r\n      url: `/pages/shop/store/goodsList?id=${order.value.store.id}`\r\n    })\r\n  }\r\n  \r\n  // 查看二维码\r\n  const showQrcode = () => {\r\n    uni.previewImage({\r\n      urls: [order.value.qrcode],\r\n      current: 0\r\n    })\r\n  }\r\n  </script>\r\n  \r\n  <style lang=\"scss\">\r\n\r\n@mixin text-ellipsis {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n  .order-detail {\r\n    min-height: 100vh;\r\n    background: #f8f8f8;\r\n    padding-bottom: 120rpx;\r\n    \r\n    .status-card {\r\n      background: #e4393c;\r\n      color: #fff;\r\n      padding: 40rpx 24rpx;\r\n      \r\n      .status-header {\r\n        margin-bottom: 24rpx;\r\n        \r\n        .status-text {\r\n          font-size: 36rpx;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .status-desc {\r\n          font-size: 26rpx;\r\n          margin-top: 8rpx;\r\n          opacity: 0.9;\r\n        }\r\n      }\r\n      \r\n      .pickup-info {\r\n        background: rgba(255,255,255,0.1);\r\n        border-radius: 12rpx;\r\n        padding: 20rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        \r\n        .qrcode-wrap {\r\n          width: 120rpx;\r\n          margin-right: 24rpx;\r\n          text-align: center;\r\n          \r\n          .qrcode {\r\n            width: 120rpx;\r\n            height: 120rpx;\r\n            background: #fff;\r\n            padding: 8rpx;\r\n            border-radius: 12rpx;\r\n          }\r\n          \r\n          .qrcode-tip {\r\n            font-size: 20rpx;\r\n            margin-top: 8rpx;\r\n            opacity: 0.8;\r\n          }\r\n        }\r\n        \r\n        .pickup-detail {\r\n          flex: 1;\r\n          \r\n          .pickup-code {\r\n            font-size: 32rpx;\r\n            font-weight: 500;\r\n            margin-bottom: 8rpx;\r\n            display: block;\r\n          }\r\n          \r\n          .pickup-time {\r\n            font-size: 28rpx;\r\n            opacity: 0.9;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .store-card,\r\n    .order-card,\r\n    .info-card {\r\n      background: #fff;\r\n      margin: 20rpx;\r\n      border-radius: 16rpx;\r\n      padding: 24rpx;\r\n    }\r\n    \r\n    .store-card {\r\n      background: #fff;\r\n      margin: 20rpx;\r\n      border-radius: 16rpx;\r\n      padding: 24rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      \r\n      .store-info {\r\n        display: flex;\r\n        align-items: center;\r\n        flex: 1;\r\n        margin-right: 24rpx;\r\n        \r\n        .store-logo {\r\n          width: 80rpx;\r\n          height: 80rpx;\r\n          border-radius: 8rpx;\r\n          margin-right: 16rpx;\r\n          background: #f8f8f8;\r\n        }\r\n        \r\n        .store-detail {\r\n          flex: 1;\r\n          min-width: 0; // 解决文字溢出问题\r\n          \r\n          .store-name {\r\n            font-size: 28rpx;\r\n            font-weight: 500;\r\n            color: #333;\r\n            @include text-ellipsis;\r\n          }\r\n          \r\n          .store-address {\r\n            font-size: 24rpx;\r\n            color: #666;\r\n            margin-top: 4rpx;\r\n            @include text-ellipsis;\r\n          }\r\n        }\r\n      }\r\n      \r\n      .contact-btn {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 0 24rpx;\r\n        height: 64rpx;\r\n        border: none;\r\n        border-radius: 32rpx;\r\n        background: #f8f8f8;\r\n        font-size: 26rpx;\r\n        color: #333;\r\n        \r\n        &::after {\r\n          display: none;\r\n        }\r\n        \r\n        .icon {\r\n          font-size: 32rpx;\r\n          margin-right: 8rpx;\r\n          color: #666;\r\n        }\r\n        \r\n        .btn-text {\r\n          line-height: 1;\r\n        }\r\n        \r\n        &-hover {\r\n          background: #f0f0f0;\r\n          transform: scale(0.98);\r\n        }\r\n      }\r\n    }\r\n    \r\n    .order-card {\r\n      .card-title {\r\n        font-size: 32rpx;\r\n        font-weight: 500;\r\n        margin-bottom: 24rpx;\r\n      }\r\n      \r\n      .goods-list {\r\n        .goods-item {\r\n          display: flex;\r\n          padding: 20rpx 0;\r\n          border-bottom: 1rpx solid #f5f5f5;\r\n          \r\n          &:last-child {\r\n            border-bottom: none;\r\n          }\r\n          \r\n          .goods-image {\r\n            width: 120rpx;\r\n            height: 120rpx;\r\n            border-radius: 12rpx;\r\n            margin-right: 20rpx;\r\n          }\r\n          \r\n          .goods-info {\r\n            flex: 1;\r\n            \r\n            .goods-name {\r\n              font-size: 28rpx;\r\n              font-weight: 500;\r\n            }\r\n            \r\n            .goods-desc {\r\n              font-size: 24rpx;\r\n              color: #999;\r\n              margin-top: 8rpx;\r\n            }\r\n            \r\n            .price-wrap {\r\n              margin-top: 12rpx;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n              \r\n              .price {\r\n                font-size: 32rpx;\r\n                color: #e4393c;\r\n                font-weight: 500;\r\n              }\r\n              \r\n              .count {\r\n                font-size: 26rpx;\r\n                color: #666;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      .order-total {\r\n        margin-top: 24rpx;\r\n        text-align: right;\r\n        font-size: 28rpx;\r\n        color: #666;\r\n        \r\n        .total-price {\r\n          font-size: 36rpx;\r\n          font-weight: 500;\r\n          color: #e4393c;\r\n          margin-left: 12rpx;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .info-card {\r\n      .info-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 16rpx 0;\r\n        font-size: 28rpx;\r\n        \r\n        .label {\r\n          color: #666;\r\n          width: 140rpx;\r\n        }\r\n        \r\n        .value {\r\n          flex: 1;\r\n          color: #333;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .bottom-bar {\r\n      position: fixed;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      height: 100rpx;\r\n      background: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0 24rpx;\r\n      box-shadow: 0 -2rpx 12rpx rgba(0,0,0,0.05);\r\n      \r\n      .action-btn {\r\n        flex: 1;\r\n        height: 72rpx;\r\n        line-height: 72rpx;\r\n        margin: 0 12rpx;\r\n        border-radius: 36rpx;\r\n        font-size: 28rpx;\r\n        \r\n        &.outline {\r\n          background: #fff;\r\n          border: 1rpx solid #ddd;\r\n          color: #666;\r\n        }\r\n        \r\n        &.primary {\r\n          background: #e4393c;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </style>","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/shop/store/orderDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","MiniProgramPage"],"mappings":";;;;;AAqGE,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB,IAAI;AAAA,MACJ,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,eAAe;AAAA,MACf,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,MACR;AAAA,MACD,OAAO;AAAA,QACL;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,UACP,OAAO;AAAA,UACP,aAAa;AAAA,QACd;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,UACP,OAAO;AAAA,UACP,aAAa;AAAA,QACd;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,UACP,OAAO;AAAA,UACP,aAAa;AAAA,QACd;AAAA,MACF;AAAA,MACD,QAAQ;AAAA,IACZ,CAAG;AAGD,UAAM,cAAcC,cAAAA,SAAS,MAAM;AACjC,YAAM,YAAY;AAAA,QAChB,SAAS;AAAA,UACP,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD,UAAU;AAAA,UACR,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD,WAAW;AAAA,UACT,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,MACF;AACD,aAAO,UAAU,MAAM,MAAM,MAAM;AAAA,IACvC,CAAG;AAGD,UAAM,aAAaA,cAAAA,SAAS,MAAM;AAChC,aAAO,MAAM,MAAM,MAAM,OAAO,CAAC,KAAK,SAAS,MAAM,KAAK,OAAO,CAAC;AAAA,IACtE,CAAG;AAGD,UAAM,eAAe,MAAM;AACzBC,oBAAAA,MAAI,cAAc;AAAA,QAChB,aAAa,MAAM,MAAM,MAAM;AAAA,MACrC,CAAK;AAAA,IACF;AAGD,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACX,CAAK;AAAA,IACF;AAGD,UAAM,YAAY,MAAM;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,kCAAkC,MAAM,MAAM,MAAM,EAAE;AAAA,MACjE,CAAK;AAAA,IACF;AAGD,UAAM,aAAa,MAAM;AACvBA,oBAAAA,MAAI,aAAa;AAAA,QACf,MAAM,CAAC,MAAM,MAAM,MAAM;AAAA,QACzB,SAAS;AAAA,MACf,CAAK;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtMH,GAAG,WAAWC,SAAe;"}