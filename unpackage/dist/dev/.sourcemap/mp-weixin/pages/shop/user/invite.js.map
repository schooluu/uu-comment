{"version":3,"file":"invite.js","sources":["pages/shop/user/invite.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC91c2VyL2ludml0ZS52dWU"],"sourcesContent":["<template>\r\n  <view class=\"invite-page\">\r\n    <!-- 邀请奖励卡片 -->\r\n    <view class=\"reward-card glass-effect\">\r\n      <view class=\"card-header\">\r\n        <text class=\"title\">邀请好友</text>\r\n        <text class=\"subtitle\">一起来喝茶</text>\r\n      </view>\r\n      <view class=\"reward-info\">\r\n        <view class=\"reward-item\">\r\n          <text class=\"value\">¥{{ inviteReward }}</text>\r\n          <text class=\"label\">邀请奖励</text>\r\n        </view>\r\n        <view class=\"divider\"></view>\r\n        <view class=\"reward-item\">\r\n          <text class=\"value\">¥{{ newUserReward }}</text>\r\n          <text class=\"label\">新人奖励</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"invite-code\">\r\n        <text class=\"code-label\">我的邀请码</text>\r\n        <text class=\"code-value\">{{ inviteCode }}</text>\r\n        <button class=\"copy-btn\" @tap=\"copyInviteCode\">复制</button>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 邀请方式 -->\r\n    <view class=\"share-methods glass-effect\">\r\n      <view class=\"section-title\">邀请方式</view>\r\n      <view class=\"method-list\">\r\n        <view \r\n          class=\"method-item\"\r\n          v-for=\"method in shareMethods\"\r\n          :key=\"method.id\"\r\n          @tap=\"handleShare(method)\"\r\n        >\r\n          <image class=\"method-icon\" :src=\"method.icon\" mode=\"aspectFit\"/>\r\n          <text class=\"method-name\">{{ method.name }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 邀请规则 -->\r\n    <view class=\"invite-rules glass-effect\">\r\n      <view class=\"section-title\">活动规则</view>\r\n      <view class=\"rules-content\">\r\n        <view \r\n          class=\"rule-item\"\r\n          v-for=\"(rule, index) in rules\"\r\n          :key=\"index\"\r\n        >\r\n          <text class=\"rule-num\">{{ index + 1 }}.</text>\r\n          <text class=\"rule-text\">{{ rule }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 邀请记录 -->\r\n    <view class=\"invite-records glass-effect\">\r\n      <view class=\"records-header\">\r\n        <text class=\"title\">邀请记录</text>\r\n        <text class=\"total\">已邀请 {{ records.length }} 人</text>\r\n      </view>\r\n      <scroll-view \r\n        class=\"records-list\"\r\n        scroll-y\r\n        :show-scrollbar=\"false\"\r\n      >\r\n        <view \r\n          class=\"record-item\"\r\n          v-for=\"record in records\"\r\n          :key=\"record.id\"\r\n        >\r\n          <view class=\"user-info\">\r\n            <image class=\"avatar\" :src=\"record.avatar\" mode=\"aspectFill\"/>\r\n            <view class=\"info-content\">\r\n              <text class=\"nickname\">{{ record.nickname }}</text>\r\n              <text class=\"time\">{{ record.time }}</text>\r\n            </view>\r\n          </view>\r\n          <view class=\"reward-status\" :class=\"record.status\">\r\n            <text class=\"reward-text\">{{ getStatusText(record.status) }}</text>\r\n            <text class=\"reward-value\" v-if=\"record.status === 'completed'\">\r\n              +¥{{ record.reward }}\r\n            </text>\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n\r\n    <!-- 分享弹窗 -->\r\n    <uni-popup ref=\"sharePopup\" type=\"bottom\">\r\n      <view class=\"share-popup\">\r\n        <view class=\"popup-header\">\r\n          <text class=\"title\">分享给好友</text>\r\n          <text class=\"close\" @tap=\"closeShare\">×</text>\r\n        </view>\r\n        <view class=\"share-content\">\r\n          <view class=\"qrcode-section\">\r\n            <image class=\"qrcode\" :src=\"qrCodeUrl\" mode=\"aspectFit\"/>\r\n            <text class=\"tip\">扫码加入</text>\r\n          </view>\r\n          <view class=\"share-image\">\r\n            <image class=\"poster\" :src=\"posterUrl\" mode=\"aspectFit\"/>\r\n            <button class=\"save-btn\" @tap=\"savePoster\">保存图片</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\n// 邀请奖励金额\r\nconst inviteReward = ref('50.00')\r\nconst newUserReward = ref('30.00')\r\nconst inviteCode = ref('HT888888')\r\n\r\n// 分享方式\r\nconst shareMethods = ref([\r\n  { id: 1, name: '微信', icon: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg', type: 'wechat' },\r\n  { id: 2, name: '朋友圈', icon: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg', type: 'moments' },\r\n  { id: 3, name: '微博', icon: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg', type: 'weibo' },\r\n  { id: 4, name: '复制链接', icon: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg', type: 'link' }\r\n])\r\n\r\n// 活动规则\r\nconst rules = ref([\r\n  '新用户通过您的邀请码注册后，双方可获得相应奖励',\r\n  '新用户首次下单后，邀请奖励将自动发放到账户余额',\r\n  '每位用户最多可邀请50位好友',\r\n  '对于恶意刷奖励的行为，平台有权取消奖励资格',\r\n  '活动最终解释权归喜茶所有'\r\n])\r\n\r\n// 邀请记录\r\nconst records = ref([\r\n  {\r\n    id: 1,\r\n    nickname: '小明',\r\n    avatar: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n    time: '2024-01-20 14:30',\r\n    status: 'completed',\r\n    reward: '50.00'\r\n  },\r\n  {\r\n    id: 2,\r\n    nickname: '小红',\r\n    avatar: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n    time: '2024-01-19 15:20',\r\n    status: 'pending'\r\n  },\r\n  {\r\n    id: 3,\r\n    nickname: '小张',\r\n    avatar: 'https://img-shop.qmimg.cn/s23107/2020/04/26/3eb7808bf105262604.jpg',\r\n    time: '2024-01-18 10:15',\r\n    status: 'completed',\r\n    reward: '50.00'\r\n  }\r\n])\r\n\r\n// 获取状态文本\r\nconst getStatusText = (status) => {\r\n  const statusMap = {\r\n    completed: '已完成',\r\n    pending: '待完成首单'\r\n  }\r\n  return statusMap[status]\r\n}\r\n\r\n// 复制邀请码\r\nconst copyInviteCode = () => {\r\n  uni.setClipboardData({\r\n    data: inviteCode.value,\r\n    success: () => {\r\n      uni.showToast({\r\n        title: '邀请码已复制',\r\n        icon: 'success'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n// 处理分享\r\nconst handleShare = (method) => {\r\n  switch (method.type) {\r\n    case 'wechat':\r\n      // 调用微信分享\r\n      break\r\n    case 'moments':\r\n      // 分享到朋友圈\r\n      break\r\n    case 'weibo':\r\n      // 分享到微博\r\n      break\r\n    case 'link':\r\n      // 复制分享链接\r\n      uni.setClipboardData({\r\n        data: `https://heytea.com/invite?code=${inviteCode.value}`,\r\n        success: () => {\r\n          uni.showToast({\r\n            title: '链接已复制',\r\n            icon: 'success'\r\n          })\r\n        }\r\n      })\r\n      break\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.invite-page {\r\n  min-height: 100vh;\r\n  padding: 30rpx;\r\n  background: #f8f8f8;\r\n\r\n  .reward-card {\r\n    padding: 40rpx;\r\n    margin-bottom: 30rpx;\r\n    background: linear-gradient(135deg, #ff6b6b 0%, #ff9f9f 100%);\r\n    color: #fff;\r\n    \r\n    .card-header {\r\n      text-align: center;\r\n      margin-bottom: 40rpx;\r\n      \r\n      .title {\r\n        font-size: 40rpx;\r\n        font-weight: bold;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      \r\n      .subtitle {\r\n        font-size: 28rpx;\r\n        opacity: 0.9;\r\n      }\r\n    }\r\n    \r\n    .reward-info {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      margin-bottom: 40rpx;\r\n      \r\n      .reward-item {\r\n        text-align: center;\r\n        \r\n        .value {\r\n          font-size: 48rpx;\r\n          font-weight: bold;\r\n          margin-bottom: 10rpx;\r\n        }\r\n        \r\n        .label {\r\n          font-size: 26rpx;\r\n          opacity: 0.9;\r\n        }\r\n      }\r\n      \r\n      .divider {\r\n        width: 2rpx;\r\n        height: 80rpx;\r\n        background: rgba(255, 255, 255, 0.3);\r\n      }\r\n    }\r\n    \r\n    .invite-code {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      background: rgba(255, 255, 255, 0.2);\r\n      padding: 20rpx;\r\n      border-radius: 12rpx;\r\n      \r\n      .code-label {\r\n        font-size: 26rpx;\r\n        margin-right: 20rpx;\r\n      }\r\n      \r\n      .code-value {\r\n        font-size: 32rpx;\r\n        font-weight: bold;\r\n        margin-right: 20rpx;\r\n      }\r\n      \r\n      .copy-btn {\r\n        font-size: 24rpx;\r\n        color: #ff6b6b;\r\n        background: #fff;\r\n        padding: 8rpx 24rpx;\r\n        border-radius: 30rpx;\r\n        border: none;\r\n        \r\n        &:active {\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .share-methods {\r\n    padding: 30rpx;\r\n    margin-bottom: 30rpx;\r\n    \r\n    .method-list {\r\n      display: grid;\r\n      grid-template-columns: repeat(4, 1fr);\r\n      gap: 20rpx;\r\n      \r\n      .method-item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        \r\n        .method-icon {\r\n          width: 80rpx;\r\n          height: 80rpx;\r\n          margin-bottom: 10rpx;\r\n        }\r\n        \r\n        .method-name {\r\n          font-size: 24rpx;\r\n          color: #666;\r\n        }\r\n        \r\n        &:active {\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .invite-rules {\r\n    padding: 30rpx;\r\n    margin-bottom: 30rpx;\r\n    \r\n    .rules-content {\r\n      .rule-item {\r\n        display: flex;\r\n        margin-bottom: 20rpx;\r\n        \r\n        .rule-num {\r\n          color: #ff6b6b;\r\n          margin-right: 10rpx;\r\n        }\r\n        \r\n        .rule-text {\r\n          font-size: 26rpx;\r\n          color: #666;\r\n          line-height: 1.5;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .invite-records {\r\n    padding: 30rpx;\r\n    \r\n    .records-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 30rpx;\r\n      \r\n      .title {\r\n        font-size: 28rpx;\r\n        font-weight: 500;\r\n        color: #333;\r\n      }\r\n      \r\n      .total {\r\n        font-size: 24rpx;\r\n        color: #999;\r\n      }\r\n    }\r\n    \r\n    .records-list {\r\n      max-height: 400rpx;\r\n      \r\n      .record-item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 20rpx 0;\r\n        border-bottom: 1rpx solid #f5f5f5;\r\n        \r\n        &:last-child {\r\n          border-bottom: none;\r\n        }\r\n        \r\n        .user-info {\r\n          display: flex;\r\n          align-items: center;\r\n          \r\n          .avatar {\r\n            width: 80rpx;\r\n            height: 80rpx;\r\n            border-radius: 50%;\r\n            margin-right: 20rpx;\r\n          }\r\n          \r\n          .info-content {\r\n            .nickname {\r\n              font-size: 28rpx;\r\n              color: #333;\r\n              margin-bottom: 6rpx;\r\n            }\r\n            \r\n            .time {\r\n              font-size: 24rpx;\r\n              color: #999;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .reward-status {\r\n          text-align: right;\r\n          \r\n          .reward-text {\r\n            font-size: 26rpx;\r\n            margin-bottom: 6rpx;\r\n          }\r\n          \r\n          .reward-value {\r\n            font-size: 28rpx;\r\n            color: #ff6b6b;\r\n            font-weight: 500;\r\n          }\r\n          \r\n          &.completed {\r\n            .reward-text {\r\n              color: #52c41a;\r\n            }\r\n          }\r\n          \r\n          &.pending {\r\n            .reward-text {\r\n              color: #faad14;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.section-title {\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.glass-effect {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20rpx;\r\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.05);\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/shop/user/invite.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;AAoHA,UAAM,eAAeA,cAAG,IAAC,OAAO;AAChC,UAAM,gBAAgBA,cAAG,IAAC,OAAO;AACjC,UAAM,aAAaA,cAAG,IAAC,UAAU;AAGjC,UAAM,eAAeA,cAAAA,IAAI;AAAA,MACvB,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,sEAAsE,MAAM,SAAU;AAAA,MACjH,EAAE,IAAI,GAAG,MAAM,OAAO,MAAM,sEAAsE,MAAM,UAAW;AAAA,MACnH,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,sEAAsE,MAAM,QAAS;AAAA,MAChH,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,sEAAsE,MAAM,OAAQ;AAAA,IACnH,CAAC;AAGD,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAGD,UAAM,UAAUA,cAAAA,IAAI;AAAA,MAClB;AAAA,QACE,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ;AAAA,MACT;AAAA,IACH,CAAC;AAGD,UAAM,gBAAgB,CAAC,WAAW;AAChC,YAAM,YAAY;AAAA,QAChB,WAAW;AAAA,QACX,SAAS;AAAA,MACV;AACD,aAAO,UAAU,MAAM;AAAA,IACzB;AAGA,UAAM,iBAAiB,MAAM;AAC3BC,oBAAAA,MAAI,iBAAiB;AAAA,QACnB,MAAM,WAAW;AAAA,QACjB,SAAS,MAAM;AACbA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAGA,UAAM,cAAc,CAAC,WAAW;AAC9B,cAAQ,OAAO,MAAI;AAAA,QACjB,KAAK;AAEH;AAAA,QACF,KAAK;AAEH;AAAA,QACF,KAAK;AAEH;AAAA,QACF,KAAK;AAEHA,wBAAAA,MAAI,iBAAiB;AAAA,YACnB,MAAM,kCAAkC,WAAW,KAAK;AAAA,YACxD,SAAS,MAAM;AACbA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cAClB,CAAW;AAAA,YACF;AAAA,UACT,CAAO;AACD;AAAA,MACH;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClNA,GAAG,WAAWC,SAAe;"}