{"version":3,"file":"index.js","sources":["pages/dance/login/index.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGFuY2UvbG9naW4vaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"login-container\">\r\n    <!-- Logo -->\r\n    <image class=\"logo\" src=\"https://objectstorageapi.bja.sealos.run/ppny09lg-uu-img/微信图片_20241119193419.png\" mode=\"aspectFit\"></image>\r\n    \r\n    <!-- 登录表单 -->\r\n    <view class=\"login-form\">\r\n      <!-- 手机号输入 -->\r\n      <view class=\"input-group\">\r\n        <view class=\"country-code\">中国 +86</view>\r\n        <input \r\n          type=\"number\" \r\n          v-model=\"phone\" \r\n          placeholder=\"手机号\"\r\n          placeholder-class=\"placeholder\"\r\n          maxlength=\"11\"\r\n        />\r\n      </view>\r\n\r\n      <!-- 验证码输入 -->\r\n      <view class=\"input-group\">\r\n        <input \r\n          type=\"number\" \r\n          v-model=\"code\" \r\n          placeholder=\"验证码\"\r\n          placeholder-class=\"placeholder\"\r\n          maxlength=\"6\"\r\n        />\r\n        <button \r\n          class=\"code-btn\" \r\n          :class=\"{ 'counting': counting }\"\r\n          @click=\"getVerifyCode\"\r\n        >\r\n          {{ counting ? `${counter}s后重试` : '获取验证码' }}\r\n        </button>\r\n      </view>\r\n\r\n      <!-- 登录按钮 -->\r\n      <button class=\"login-btn\" @click=\"handleLogin\" :disabled=\"!isFormValid\">登录</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onUnmounted } from 'vue'\r\n\r\nconst phone = ref('')\r\nconst code = ref('')\r\nconst counting = ref(false)\r\nconst counter = ref(60)\r\nlet timer = null\r\n\r\n// 获取验证码\r\nconst getVerifyCode = async () => {\r\n  if (!isPhoneValid.value) {\r\n    uni.showToast({\r\n      title: '请输入正确的手机号',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  try {\r\n    // 开始倒计时\r\n    startCountDown()\r\n    \r\n    // 调用验证码接口\r\n    const res = await uni.request({\r\n      url: 'YOUR_API_URL/sendCode', // 替换为实际的接口地址\r\n      method: 'POST',\r\n      data: {\r\n        phone: phone.value\r\n      }\r\n    })\r\n    \r\n    // 根据接口返回处理结果\r\n    if (res.data.code === 200) { // 假设200是成功状态码\r\n      uni.showToast({\r\n        title: '验证码已发送',\r\n        icon: 'success'\r\n      })\r\n    } else {\r\n      throw new Error(res.data.message || '发送失败')\r\n    }\r\n  } catch (error) {\r\n    // 发送失败时停止倒计时\r\n    stopCountDown()\r\n    uni.showToast({\r\n      title: error.message || '发送验证码失败，请重试',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 开始倒计时\r\nconst startCountDown = () => {\r\n  counting.value = true\r\n  counter.value = 60\r\n  \r\n  timer = setInterval(() => {\r\n    counter.value--\r\n    if (counter.value <= 0) {\r\n      stopCountDown()\r\n    }\r\n  }, 1000)\r\n}\r\n\r\n// 停止倒计时\r\nconst stopCountDown = () => {\r\n  if (timer) {\r\n    clearInterval(timer)\r\n    timer = null\r\n  }\r\n  counting.value = false\r\n  counter.value = 60\r\n}\r\n\r\n// 手机号验证\r\nconst isPhoneValid = computed(() => {\r\n  return phone.value && /^1[3-9]\\d{9}$/.test(phone.value)\r\n})\r\n\r\n// 表单验证\r\nconst isFormValid = computed(() => {\r\n  return isPhoneValid.value && code.value.length === 6\r\n})\r\n\r\n// 组件卸载时清理定时器\r\nonUnmounted(() => {\r\n  stopCountDown()\r\n})\r\n\r\n// 登录处理\r\nconst handleLogin = () => {\r\n  if (!phone.value || phone.value.length !== 11) {\r\n    uni.showToast({\r\n      title: '请输入正确的手机号',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  if (!code.value || code.value.length !== 6) {\r\n    uni.showToast({\r\n      title: '请输入正确的验证码',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // TODO: 调用登录接口\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container {\r\n  min-height: 100vh;\r\n  background-color: #141123f5;\r\n  padding: 0 40rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  \r\n  .logo {\r\n    width: 400rpx;\r\n    height: 400rpx;\r\n    margin-top: 160rpx;\r\n    margin-bottom: 100rpx;\r\n  }\r\n  \r\n  .login-form {\r\n    width: 100%;\r\n    \r\n    .input-group {\r\n      position: relative;\r\n      margin-bottom: 30rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      border-bottom: 2rpx solid rgba(255,255,255,0.1);\r\n      padding: 20rpx 0;\r\n      \r\n      .country-code {\r\n        color: rgba(255,255,255,0.8);\r\n        margin-right: 20rpx;\r\n        font-size: 28rpx;\r\n      }\r\n      \r\n      input {\r\n        flex: 1;\r\n        color: #fff;\r\n        font-size: 28rpx;\r\n      }\r\n      \r\n      .placeholder {\r\n        color: rgba(255,255,255,0.3);\r\n      }\r\n      \r\n      .code-btn {\r\n        min-width: 180rpx;\r\n        line-height: 64rpx;\r\n        padding: 0 24rpx;\r\n        background: transparent;\r\n        color: #FF4D8F;\r\n        font-size: 28rpx;\r\n        border: 2rpx solid #FF4D8F;\r\n        border-radius: 32rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        transition: all 0.3s ease;\r\n        white-space: nowrap;\r\n        \r\n        &::after {\r\n          border: none;\r\n        }\r\n        \r\n        &:active:not([disabled]) {\r\n          background: rgba(255, 77, 143, 0.1);\r\n          transform: scale(0.98);\r\n        }\r\n        \r\n        &.counting {\r\n          background: #F5F5F5;\r\n          border-color: #CCCCCC;\r\n          color: #999999;\r\n        }\r\n        \r\n        &:disabled {\r\n          background: #F5F5F5;\r\n          border-color: #CCCCCC;\r\n          color: #999999;\r\n          \r\n          &:active {\r\n            transform: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .login-btn {\r\n      width: 85%;  // 设置按钮宽度\r\n      height: 90rpx;\r\n      margin: 60rpx auto;\r\n      background: linear-gradient(to right, #FF4D8F, #FF6B6B);  // 渐变背景\r\n      color: #FFFFFF;\r\n      font-size: 32rpx;\r\n      font-weight: 500;\r\n      border-radius: 45rpx;\r\n      border: none;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      box-shadow: 0 6rpx 16rpx rgba(255, 77, 143, 0.3);  // 添加阴影效果\r\n      transition: all 0.3s ease;  // 添加过渡效果\r\n      \r\n      &::after {\r\n        border: none;  // 移除默认边框\r\n      }\r\n      \r\n      &:active {\r\n        transform: scale(0.98);  // 点击时的缩放效果\r\n        box-shadow: 0 2rpx 8rpx rgba(255, 77, 143, 0.2);\r\n      }\r\n      \r\n      &:disabled {\r\n        background: #CCCCCC;\r\n        box-shadow: none;\r\n        color: #FFFFFF;\r\n        opacity: 0.7;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/dance/login/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed","onUnmounted"],"mappings":";;;;;AA8CA,UAAM,QAAQA,cAAG,IAAC,EAAE;AACpB,UAAM,OAAOA,cAAG,IAAC,EAAE;AACnB,UAAM,WAAWA,cAAG,IAAC,KAAK;AAC1B,UAAM,UAAUA,cAAG,IAAC,EAAE;AACtB,QAAI,QAAQ;AAGZ,UAAM,gBAAgB,YAAY;AAChC,UAAI,CAAC,aAAa,OAAO;AACvBC,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AACD;AAAA,MACD;AAED,UAAI;AAEF,uBAAgB;AAGhB,cAAM,MAAM,MAAMA,cAAG,MAAC,QAAQ;AAAA,UAC5B,KAAK;AAAA;AAAA,UACL,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,OAAO,MAAM;AAAA,UACd;AAAA,QACP,CAAK;AAGD,YAAI,IAAI,KAAK,SAAS,KAAK;AACzBA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AAAA,QACP,OAAW;AACL,gBAAM,IAAI,MAAM,IAAI,KAAK,WAAW,MAAM;AAAA,QAC3C;AAAA,MACF,SAAQ,OAAO;AAEd,sBAAe;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO,MAAM,WAAW;AAAA,UACxB,MAAM;AAAA,QACZ,CAAK;AAAA,MACF;AAAA,IACH;AAGA,UAAM,iBAAiB,MAAM;AAC3B,eAAS,QAAQ;AACjB,cAAQ,QAAQ;AAEhB,cAAQ,YAAY,MAAM;AACxB,gBAAQ;AACR,YAAI,QAAQ,SAAS,GAAG;AACtB,wBAAe;AAAA,QAChB;AAAA,MACF,GAAE,GAAI;AAAA,IACT;AAGA,UAAM,gBAAgB,MAAM;AAC1B,UAAI,OAAO;AACT,sBAAc,KAAK;AACnB,gBAAQ;AAAA,MACT;AACD,eAAS,QAAQ;AACjB,cAAQ,QAAQ;AAAA,IAClB;AAGA,UAAM,eAAeC,cAAQ,SAAC,MAAM;AAClC,aAAO,MAAM,SAAS,gBAAgB,KAAK,MAAM,KAAK;AAAA,IACxD,CAAC;AAGD,UAAM,cAAcA,cAAQ,SAAC,MAAM;AACjC,aAAO,aAAa,SAAS,KAAK,MAAM,WAAW;AAAA,IACrD,CAAC;AAGDC,kBAAAA,YAAY,MAAM;AAChB,oBAAe;AAAA,IACjB,CAAC;AAGD,UAAM,cAAc,MAAM;AACxB,UAAI,CAAC,MAAM,SAAS,MAAM,MAAM,WAAW,IAAI;AAC7CF,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AACD;AAAA,MACD;AAED,UAAI,CAAC,KAAK,SAAS,KAAK,MAAM,WAAW,GAAG;AAC1CA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AACD;AAAA,MACD;AAAA,IAGH;;;;;;;;;;;;;;;;;ACtJA,GAAG,WAAW,eAAe;"}