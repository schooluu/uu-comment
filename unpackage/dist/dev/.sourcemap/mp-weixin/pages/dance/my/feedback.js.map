{"version":3,"file":"feedback.js","sources":["pages/dance/my/feedback.vue","../../soft/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGFuY2UvbXkvZmVlZGJhY2sudnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"header\">\r\n      <text class=\"title\">意见反馈</text>\r\n    </view>\r\n    \r\n    <!-- 反馈类型选择 -->\r\n    <view class=\"type-section\">\r\n      <text class=\"section-title\">反馈类型</text>\r\n      <view class=\"type-grid\">\r\n        <view \r\n          class=\"type-item\" \r\n          v-for=\"type in feedbackTypes\" \r\n          :key=\"type.id\"\r\n          :class=\"{ active: selectedType === type.id }\"\r\n          @tap=\"selectType(type.id)\"\r\n        >\r\n          {{ type.name }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 反馈内容 -->\r\n    <view class=\"content-section\">\r\n      <text class=\"section-title\">反馈内容</text>\r\n      <textarea \r\n        class=\"content-input\"\r\n        v-model=\"content\"\r\n        placeholder=\"请详细描述您的问题或建议，以便我们更好地为您服务\"\r\n        placeholder-class=\"placeholder\"\r\n        maxlength=\"500\"\r\n      />\r\n      <text class=\"word-count\">{{ content.length }}/500</text>\r\n    </view>\r\n    \r\n    <!-- 图片上传 -->\r\n    <view class=\"upload-section\">\r\n      <text class=\"section-title\">上传图片（选填，最多4张）</text>\r\n      <view class=\"upload-grid\">\r\n        <view \r\n          class=\"upload-item\" \r\n          v-for=\"(image, index) in images\" \r\n          :key=\"index\"\r\n        >\r\n          <image class=\"preview\" :src=\"image\" mode=\"aspectFill\"></image>\r\n          <text class=\"delete-btn\" @tap=\"deleteImage(index)\">×</text>\r\n        </view>\r\n        <view class=\"upload-btn\" @tap=\"chooseImage\" v-if=\"images.length < 4\">\r\n          <text class=\"icon\">+</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 联系方式 -->\r\n    <view class=\"contact-section\">\r\n      <text class=\"section-title\">联系方式（选填）</text>\r\n      <input \r\n        class=\"contact-input\"\r\n        v-model=\"contact\"\r\n        placeholder=\"请留下您的手机号或邮箱，方便我们及时回复\"\r\n        placeholder-class=\"placeholder\"\r\n      />\r\n    </view>\r\n    \r\n    <!-- 提交按钮 -->\r\n    <button \r\n      class=\"submit-btn\" \r\n      :class=\"{ disabled: !isValid }\"\r\n      @tap=\"submit\"\r\n    >\r\n      提交反馈\r\n    </button>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\n\r\nconst feedbackTypes = [\r\n  { id: 1, name: '课程相关' },\r\n  { id: 2, name: '老师相关' },\r\n  { id: 3, name: '系统问题' },\r\n  { id: 4, name: '其他建议' }\r\n]\r\n\r\nconst selectedType = ref(0)\r\nconst content = ref('')\r\nconst images = ref([])\r\nconst contact = ref('')\r\n\r\nconst isValid = computed(() => {\r\n  return selectedType.value !== 0 && content.value.trim().length > 0\r\n})\r\n\r\nconst selectType = (typeId) => {\r\n  selectedType.value = typeId\r\n}\r\n\r\nconst chooseImage = () => {\r\n  uni.chooseImage({\r\n    count: 4 - images.value.length,\r\n    success: (res) => {\r\n      images.value = [...images.value, ...res.tempFilePaths]\r\n    }\r\n  })\r\n}\r\n\r\nconst deleteImage = (index) => {\r\n  images.value.splice(index, 1)\r\n}\r\n\r\nconst submit = () => {\r\n  if (!isValid.value) {\r\n    uni.showToast({\r\n      title: '请选择反馈类型并填写反馈内容',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  uni.showLoading({\r\n    title: '提交中'\r\n  })\r\n  \r\n  // 模拟提交\r\n  setTimeout(() => {\r\n    uni.hideLoading()\r\n    uni.showToast({\r\n      title: '提交成功',\r\n      icon: 'success'\r\n    })\r\n    \r\n    // 重置表单\r\n    selectedType.value = 0\r\n    content.value = ''\r\n    images.value = []\r\n    contact.value = ''\r\n    \r\n    // 返回上一页\r\n    setTimeout(() => {\r\n      uni.navigateBack()\r\n    }, 1500)\r\n  }, 1500)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n  min-height: 100vh;\r\n  background-color: #1C1B21;\r\n  padding: 30rpx 30rpx 120rpx;\r\n}\r\n\r\n.header {\r\n  margin-bottom: 40rpx;\r\n  \r\n  .title {\r\n    color: #fff;\r\n    font-size: 36rpx;\r\n    font-weight: 600;\r\n  }\r\n}\r\n\r\n.section-title {\r\n  color: rgba(255,255,255,0.6);\r\n  font-size: 28rpx;\r\n  margin-bottom: 20rpx;\r\n  display: block;\r\n}\r\n\r\n.type-section {\r\n  margin-bottom: 40rpx;\r\n  \r\n  .type-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 20rpx;\r\n    \r\n    .type-item {\r\n      height: 80rpx;\r\n      line-height: 80rpx;\r\n      text-align: center;\r\n      background: rgba(255,255,255,0.1);\r\n      border-radius: 12rpx;\r\n      color: #fff;\r\n      font-size: 28rpx;\r\n      \r\n      &.active {\r\n        background: #FF4D8F;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.content-section {\r\n  margin-bottom: 40rpx;\r\n  position: relative;\r\n  \r\n  .content-input {\r\n    width: 100%;\r\n    height: 300rpx;\r\n    background: rgba(255,255,255,0.1);\r\n    border-radius: 12rpx;\r\n    padding: 20rpx;\r\n    color: #fff;\r\n    font-size: 28rpx;\r\n  }\r\n  \r\n  .word-count {\r\n    position: absolute;\r\n    right: 20rpx;\r\n    bottom: 20rpx;\r\n    color: rgba(255,255,255,0.4);\r\n    font-size: 24rpx;\r\n  }\r\n}\r\n\r\n.upload-section {\r\n  margin-bottom: 40rpx;\r\n  \r\n  .upload-grid {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20rpx;\r\n    \r\n    .upload-item {\r\n      position: relative;\r\n      width: 160rpx;\r\n      height: 160rpx;\r\n      \r\n      .preview {\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 12rpx;\r\n      }\r\n      \r\n      .delete-btn {\r\n        position: absolute;\r\n        top: -20rpx;\r\n        right: -20rpx;\r\n        width: 40rpx;\r\n        height: 40rpx;\r\n        line-height: 36rpx;\r\n        text-align: center;\r\n        background: rgba(0,0,0,0.5);\r\n        color: #fff;\r\n        border-radius: 50%;\r\n        font-size: 32rpx;\r\n      }\r\n    }\r\n    \r\n    .upload-btn {\r\n      width: 160rpx;\r\n      height: 160rpx;\r\n      background: rgba(255,255,255,0.1);\r\n      border-radius: 12rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      \r\n      .icon {\r\n        color: rgba(255,255,255,0.6);\r\n        font-size: 48rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.contact-section {\r\n  margin-bottom: 60rpx;\r\n  \r\n  .contact-input {\r\n    background: rgba(255,255,255,0.1);\r\n    border-radius: 12rpx;\r\n    height: 80rpx;\r\n    padding: 0 20rpx;\r\n    color: #fff;\r\n    font-size: 28rpx;\r\n  }\r\n}\r\n\r\n.placeholder {\r\n  color: rgba(255,255,255,0.3);\r\n}\r\n\r\n.submit-btn {\r\n  position: fixed;\r\n  bottom: 40rpx;\r\n  left: 40rpx;\r\n  right: 40rpx;\r\n  height: 88rpx;\r\n  line-height: 88rpx;\r\n  background: #FF4D8F;\r\n  color: #fff;\r\n  font-size: 32rpx;\r\n  border-radius: 100rpx;\r\n  \r\n  &.disabled {\r\n    background: rgba(255,255,255,0.1);\r\n    color: rgba(255,255,255,0.3);\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/WORKPLACE/uu-company/pages/dance/my/feedback.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","MiniProgramPage"],"mappings":";;;;;AA8EA,UAAM,gBAAgB;AAAA,MACpB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,MACvB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,MACvB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,MACvB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,IACzB;AAEA,UAAM,eAAeA,cAAG,IAAC,CAAC;AAC1B,UAAM,UAAUA,cAAG,IAAC,EAAE;AACtB,UAAM,SAASA,cAAG,IAAC,EAAE;AACrB,UAAM,UAAUA,cAAG,IAAC,EAAE;AAEtB,UAAM,UAAUC,cAAQ,SAAC,MAAM;AAC7B,aAAO,aAAa,UAAU,KAAK,QAAQ,MAAM,KAAI,EAAG,SAAS;AAAA,IACnE,CAAC;AAED,UAAM,aAAa,CAAC,WAAW;AAC7B,mBAAa,QAAQ;AAAA,IACvB;AAEA,UAAM,cAAc,MAAM;AACxBC,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO,IAAI,OAAO,MAAM;AAAA,QACxB,SAAS,CAAC,QAAQ;AAChB,iBAAO,QAAQ,CAAC,GAAG,OAAO,OAAO,GAAG,IAAI,aAAa;AAAA,QACtD;AAAA,MACL,CAAG;AAAA,IACH;AAEA,UAAM,cAAc,CAAC,UAAU;AAC7B,aAAO,MAAM,OAAO,OAAO,CAAC;AAAA,IAC9B;AAEA,UAAM,SAAS,MAAM;AACnB,UAAI,CAAC,QAAQ,OAAO;AAClBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AACD;AAAA,MACD;AAEDA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,MACX,CAAG;AAGD,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAa;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAGD,qBAAa,QAAQ;AACrB,gBAAQ,QAAQ;AAChB,eAAO,QAAQ,CAAE;AACjB,gBAAQ,QAAQ;AAGhB,mBAAW,MAAM;AACfA,wBAAAA,MAAI,aAAc;AAAA,QACnB,GAAE,IAAI;AAAA,MACR,GAAE,IAAI;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IA,GAAG,WAAWC,SAAe;"}