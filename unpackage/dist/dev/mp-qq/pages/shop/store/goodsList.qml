<view class="page-container"><swiper class="banner" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" circular><swiper-item qq:for="{{a}}" qq:for-item="banner" qq:key="b"><image src="{{banner.a}}" mode="aspectFill" class="banner-image"/></swiper-item></swiper><view class="main-content"><scroll-view class="category-sidebar" scroll-y><view qq:for="{{b}}" qq:for-item="category" qq:key="c" class="{{['category-item', category.d && 'active']}}" bindtap="{{category.e}}"><text class="category-icon">{{category.a}}</text><text class="category-name">{{category.b}}</text></view></scroll-view><scroll-view class="goods-content" scroll-y bindscrolltolower="{{e}}" refresher-enabled refresher-triggered="{{f}}" bindrefresherrefresh="{{g}}"><view class="goods-grid"><view qq:for="{{c}}" qq:for-item="goods" qq:key="j" class="goods-item" bindtap="{{goods.k}}"><image src="{{goods.a}}" mode="aspectFill" class="goods-image" lazy-load/><view class="goods-info"><text class="goods-name">{{goods.b}}</text><text class="goods-desc">{{goods.c}}</text><view class="goods-bottom"><view class="price-wrap"><text class="price">¥{{goods.d}}</text><text qq:if="{{goods.e}}" class="original-price">¥{{goods.f}}</text><text class="sold">已售{{goods.g}}+</text></view><button class="{{['add-cart-btn', goods.h && 'disabled']}}" catchtap="{{goods.i}}"><text class="btn-icon">+</text></button></view></view></view></view><view qq:if="{{d}}" class="loading-state"><text class="loading-text">加载中...</text></view></scroll-view></view><view qq:if="{{h}}" class="cart-bar" bindtap="{{o}}"><view class="cart-info"><view class="cart-icon-wrap"><text class="cart-icon">🛒</text><text class="cart-badge">{{i}}</text></view><view class="price-info"><text class="total-price">¥{{j}}</text><text class="delivery-fee">配送费 ¥{{k}}</text></view></view><button class="{{['checkout-btn', m && 'disabled']}}" catchtap="{{n}}">{{l}}</button></view><uni-popup qq:if="{{s}}" class="r" u-s="{{['d']}}" u-r="cartPopup" u-i="27fc341a-0" bind:__l="__l" u-p="{{s}}"><view class="cart-popup"><view class="popup-header"><text class="title">购物车</text><button class="clear-btn" bindtap="{{p}}"><text class="icon">🗑️</text><text>清空</text></button></view><scroll-view class="cart-list" scroll-y><view qq:for="{{q}}" qq:for-item="item" qq:key="g" class="cart-item"><image src="{{item.a}}" class="goods-image" mode="aspectFill"/><view class="goods-info"><text class="goods-name">{{item.b}}</text><text class="goods-price">¥{{item.c}}</text></view><view class="quantity-control"><button class="minus-btn" bindtap="{{item.d}}">-</button><text class="count">{{item.e}}</text><button class="plus-btn" bindtap="{{item.f}}">+</button></view></view></scroll-view></view></uni-popup></view>